{"version":3,"file":"311.bundle.js","mappings":"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","sources":["webpack://dwaan/./src/js/replurk/friends.js","webpack://dwaan/./src/js/replurk/loading.js","webpack://dwaan/./src/js/replurk/browser.js","webpack://dwaan/./src/js/replurk/scrolls.js","webpack://dwaan/./src/js/replurk/span.js","webpack://dwaan/./src/js/replurk/colors.js","webpack://dwaan/./src/js/replurk/icons.js","webpack://dwaan/./src/js/replurk/element.js","webpack://dwaan/./src/js/replurk/most.js","webpack://dwaan/./src/js/replurk/inactive.js","webpack://dwaan/./src/js/replurk/statistics.js","webpack://dwaan/./src/js/replurk/main.js"],"sourcesContent":["\"use strict\"\n\nimport api from \"../helpers/api.js\"\n\n/*\n\tFriends object spesification:\n\n\t1. data: contains all the friends collection data\n\t2. add(data): add friend to friends collection data\n\t3. find(user_id): return friend data based on their id\n\t4. findByUsername(nick_name): return friend data based on their nick name\n\t5. getAvatar(user_id): return avatar url based on their id for from friends collection data\n\t6. getAvatarByUsername(user_id): return avatar url based on their nick name for from friends collection data\n*/\n\nclass friends {\n\tconstructor() {\n\t\tthis.data = {}\n\t\tthis.unavailable = []\n\t}\n\n\t/**\n\t * Add JSON object as a friends data\n\t *\n\t * ```js\n\t * friends.add({});\n\t * ```\n\t *\n\t * @param {new_friends}: New friends JSON from /APP/Profile/getPublicProfile\n\t * @memberof friends\n\t * @link https://www.plurk.com/API/2/\n\t */\n\tadd(new_friends) {\n\t\tObject.assign(this.data, new_friends)\n\t}\n\n\tasync find(user_id) {\n\t\tif (this.unavailable.findIndex(el => el == user_id) >= 0) return false\n\n\t\tif (this.data && this.data[user_id]) {\n\t\t\treturn this.data[user_id]\n\t\t} else {\n\t\t\tvar result = await api.call(\"?fetch=APP&url=/Profile/getPublicProfile&user_id=\" + user_id)\n\n\t\t\tif (result.success) {\n\t\t\t\tvar temp = {}\n\t\t\t\ttemp[result.message.user_info.id] = result.message.user_info\n\t\t\t\tthis.add(temp)\n\t\t\t\treturn result.message.user_info\n\t\t\t} else {\n\t\t\t\tthis.unavailable.push(user_id)\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t}\n\n\tasync findByUsername(nick_name) {\n\t\tvar user_id = false\n\n\t\tif (this.unavailable.findIndex(el => el == nick_name) >= 0) return false\n\n\t\tfor (var index in this.data) {\n\t\t\tif (this.data[index].nick_name.toLowerCase() == nick_name.toLowerCase()) {\n\t\t\t\tuser_id = index\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\tif (user_id) {\n\t\t\treturn this.data[user_id]\n\t\t} else {\n\t\t\tvar result = await api.call(\"?fetch=APP&url=/Profile/getPublicProfile&nick_name=\" + nick_name)\n\n\t\t\tif (result.success) {\n\t\t\t\tvar temp = {}\n\t\t\t\ttemp[result.message.user_info.id] = result.message.user_info\n\t\t\t\tthis.add(temp)\n\t\t\t\treturn result.message.user_info\n\t\t\t} else {\n\t\t\t\tthis.unavailable.push(nick_name)\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t}\n\n\tgetAvatar(user_id) {\n\t\tif (user_id && this.data && this.data[user_id]) {\n\t\t\tif (this.data[user_id].has_profile_image) {\n\t\t\t\tvar avatar = \"\"\n\t\t\t\tif (this.data[user_id].avatar) avatar = this.data[user_id].avatar\n\t\t\t\treturn 'https://avatars.plurk.com/' + user_id + '-big' + avatar + '.jpg'\n\t\t\t}\n\t\t}\n\t\treturn 'https://plurk.com/static/default_big.jpg'\n\t}\n\n\tgetAvatarByUsername(user_name) {\n\t\tvar user_id = false\n\n\t\tif (user_name) {\n\t\t\tfor (var index in this.data) {\n\t\t\t\tif (this.data[index].nick_name.toLowerCase() == user_name.toLowerCase()) {\n\t\t\t\t\tuser_id = index\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.getAvatar(user_id)\n\t}\n}\n\nexport default friends","\"use strict\"\n\nimport { gsap } from 'gsap'\n\nimport scroll from \"../helpers/scroll.js\"\nimport { reduceMotionFilter } from '../helpers/helper.js'\n\nclass loading {\n\tconstructor(next) {\n\t\tthis.count = 0\n\t\tthis.prev_count = 0\n\t\tthis.counts = -1\n\t\tthis.clean = false\n\t\tthis.next = next\n\t\tthis.parent = this\n\t\tthis.isComplete = function () { return this.count == this.counts }\n\t}\n\n\tdraw(item) {\n\t\treturn new Promise(resolve => {\n\t\t\tvar length = reduceMotionFilter(1)\n\t\t\tthis.prev_count = item\n\n\t\t\tif (!this.next.querySelector(\".statistics.statistics-loading\")) {\n\t\t\t\tthis.parent.statistics.draw(\"statistics-loading\", item + \"%\", \"<i class='month'>Data from \" + this.year + \"</i>. Loading. <small>As long as you didn't close this browser tab, You can resume later by refreshing this page.</small>\")\n\t\t\t}\n\n\t\t\t// Animate loading\n\t\t\tvar load = { progress: this.prev_count }\n\t\t\tgsap.to(load, {\n\t\t\t\tprogress: Math.round(item),\n\t\t\t\tsnap: \"progress\",\n\t\t\t\tease: \"linear\",\n\t\t\t\tduration: length / 4,\n\t\t\t\tonUpdate: () => {\n\t\t\t\t\tvar el = this.next.querySelector(\".statistics-loading .big\")\n\t\t\t\t\tif (el) el.innerHTML = load.progress + \"%\"\n\t\t\t\t},\n\t\t\t\tonComplete: async () => {\n\t\t\t\t\tif (this.clean) await this.done()\n\t\t\t\t\tresolve()\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\tasync loop(length) {\n\t\tthis.clean = true\n\t\tthis.counts = length\n\t\tawait this.draw(0)\n\t}\n\n\tasync update(month, value) {\n\t\tvar el = this.next.querySelector(\".statistics-loading .month\")\n\t\tif (month && el) el.innerHTML = month\n\n\t\tif (this.counts >= 0) {\n\t\t\tthis.count = value ? value : this.count + 1\n\t\t\tawait this.draw(Math.round(100 * (this.count / this.counts)))\n\t\t}\n\t}\n\n\tasync fakeupdate() {\n\t\tif (this.counts >= 0) {\n\t\t\tthis.count++\n\t\t\tif (this.count >= (this.counts - 10)) this.count = (this.counts - 10)\n\t\t\tawait this.draw(100 * (this.count / this.counts))\n\t\t}\n\t}\n\n\tasync forcedone() {\n\t\tthis.count = this.counts\n\t\tawait this.draw(100)\n\t}\n\n\tdone() {\n\t\treturn new Promise(resolve => {\n\t\t\tvar length = reduceMotionFilter(1)\n\n\t\t\tif (this.isComplete()) {\n\t\t\t\tvar el = this.next.querySelector(\".statistics.statistics-loading\")\n\t\t\t\tthis.clean = false\n\t\t\t\tif (el) {\n\t\t\t\t\tgsap.to(el, {\n\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\twidth: 0,\n\t\t\t\t\t\theight: 0,\n\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\tmargin: 0,\n\t\t\t\t\t\toverflow: \"hidden\",\n\t\t\t\t\t\tduration: length / 2,\n\t\t\t\t\t\tease: \"power3.out\",\n\t\t\t\t\t\tonComplete: () => {\n\t\t\t\t\t\t\tel.remove()\n\t\t\t\t\t\t\tscroll.refresh()\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} else resolve()\n\t\t})\n\t}\n}\n\nexport default loading","import darkmode from \"../helpers/darkmode.js\"\n\n// Browser color\nlet browser = {\n\tget: function (state) {\n\t\tif (typeof (state) == \"object\" && state.length >= 1) {\n\t\t\tif (state.length == 1) {\n\t\t\t\tdarkmode.browserColorDark = state[0];\n\t\t\t\tdarkmode.browserColorLight = state[0];\n\t\t\t} else {\n\t\t\t\tdarkmode.browserColorDark = state[1];\n\t\t\t\tdarkmode.browserColorLight = state[0];\n\t\t\t}\n\t\t} else if (state == \"green\") {\n\t\t\tdarkmode.browserColorDark = \"#0d4f03\";\n\t\t\tdarkmode.browserColorLight = \"#60e670\";\n\t\t} else if (state == \"yellow\") {\n\t\t\tdarkmode.browserColorDark = \"#705f02\";\n\t\t\tdarkmode.browserColorLight = \"#FFD700\";\n\t\t} else {\n\t\t\tdarkmode.browserColorDark = \"#000000\";\n\t\t\tdarkmode.browserColorLight = \"#FFFFFF\";\n\t\t}\n\n\t\treturn [darkmode.browserColorLight, darkmode.browserColorDark];\n\t},\n\n\tset: function (state, duration, ease) {\n\t\tthis.get(state);\n\t\tdarkmode.setDarkMode(duration, ease);\n\t}\n}\n\nexport default browser","\"use strict\";\n\nimport { gsap } from 'gsap'\nimport { ScrollTrigger } from 'gsap/ScrollTrigger.js'\n\nimport scroll from \"../helpers/scroll.js\"\nimport { _qAll, reduceMotionFilter } from '../helpers/helper.js'\n\nimport browser from './browser.js'\n\n// Scroll Animation\nclass scrolls {\n\tconstructor(next) {\n\t\tthis.next = next\n\t}\n\n\tcredits(tl) {\n\t\tvar length = reduceMotionFilter(1)\n\n\t\ttl.fromTo(this.next.querySelectorAll(\"#credits .like, #credits .noaffiliation, #credits .made\"), {\n\t\t\ty: window.innerHeight * 1 / 8\n\t\t}, {\n\t\t\ty: 0,\n\t\t\tease: \"linear\",\n\t\t\tduration: length * 2,\n\t\t}, 0)\n\t\ttl.fromTo(this.next.querySelectorAll(\"#credits .like, #credits .noaffiliation\"), {\n\t\t\topacity: 0\n\t\t}, {\n\t\t\topacity: 1,\n\t\t\tstagger: {\n\t\t\t\tfrom: 'end',\n\t\t\t\tamount: length / 10\n\t\t\t},\n\t\t\tduration: length,\n\t\t\tease: \"power3.in\"\n\t\t}, 0)\n\t\ttl.fromTo(this.next.querySelectorAll(\"#credits .made\"), {\n\t\t\topacity: 0\n\t\t}, {\n\t\t\topacity: 1,\n\t\t\tduration: length,\n\t\t\tease: \"power3.in\"\n\t\t}, length * 3 / 10)\n\n\t\treturn tl\n\t}\n\n\tstatistics() {\n\t\t// Scroll animate statistics\n\t\tscroll.push(tl => this.credits(tl), tl => ScrollTrigger.create({\n\t\t\ttrigger: this.next.querySelectorAll(\"#statistics\"),\n\t\t\tstart: \"100%-=\" + window.innerHeight + \" 0\",\n\t\t\tend: \"100% 0\",\n\t\t\tanimation: tl,\n\t\t\tscrub: .5\n\t\t}))\n\t}\n\n\tpermisions() {\n\t\t// Scroll animation permission section\n\t\tscroll.push((tl) => {\n\t\t\ttl.fromTo(this.next.querySelectorAll(\"#permission form\"), {\n\t\t\t\ty: 0\n\t\t\t}, {\n\t\t\t\ty: window.innerHeight * -3 / 4,\n\t\t\t\tease: \"linear\"\n\t\t\t}, 0)\n\t\t\ttl.fromTo(this.next.querySelectorAll(\"#permission .bgtext sup\"), {\n\t\t\t\ty: 0,\n\t\t\t\tx: 0,\n\t\t\t\trotation: 0\n\t\t\t}, {\n\t\t\t\ty: window.innerHeight * -1 / 4,\n\t\t\t\tx: window.innerHeight * -1 / 10,\n\t\t\t\trotation: -10,\n\t\t\t\tease: \"linear\"\n\t\t\t}, 0)\n\t\t\ttl.fromTo(this.next.querySelectorAll(\"#permission .bgtext sub\"), {\n\t\t\t\ty: 0,\n\t\t\t\tx: 0,\n\t\t\t\trotation: 0\n\t\t\t}, {\n\t\t\t\ty: window.innerHeight * -1 / 4,\n\t\t\t\tx: window.innerHeight * 1 / 10,\n\t\t\t\trotation: 10,\n\t\t\t\tease: \"linear\"\n\t\t\t}, 0)\n\t\t\treturn tl\n\t\t}, (tl) => {\n\t\t\treturn ScrollTrigger.create({\n\t\t\t\ttrigger: this.next.querySelectorAll(\"#permission\"),\n\t\t\t\tstart: \"0 0\",\n\t\t\t\tend: \"100% 0\",\n\t\t\t\tanimation: tl,\n\t\t\t\tscrub: .5\n\t\t\t})\n\t\t})\n\t\tscroll.push((tl) => {\n\t\t\ttl = this.credits(tl)\n\t\t\treturn tl\n\t\t}, (tl) => {\n\t\t\treturn ScrollTrigger.create({\n\t\t\t\ttrigger: this.next.querySelectorAll(\"#permission\"),\n\t\t\t\tstart: \"0 0\",\n\t\t\t\tend: \"100% 0\",\n\t\t\t\tanimation: tl,\n\t\t\t\tscrub: .5\n\t\t\t})\n\t\t})\n\t}\n\n\tmenu() {\n\t\t// Scroll animation menu and logout\n\t\tscroll.push(tl => tl, tl => {\n\t\t\treturn ScrollTrigger.create({\n\t\t\t\ttrigger: 'main',\n\t\t\t\tstart: \"0 0\",\n\t\t\t\tend: \"100% 0\",\n\t\t\t\tanimation: tl,\n\t\t\t\tonUpdate: update => {\n\t\t\t\t\tvar el1 = '.logo, .size, .lamp, .switch'\n\t\t\t\t\tvar el2 = el1 + \", .footer > *\"\n\n\t\t\t\t\tif (update.direction > 0) {\n\t\t\t\t\t\tgsap.killTweensOf(_qAll(el2))\n\t\t\t\t\t\tgsap.to(_qAll(el1), { y: -100, opacity: 0 })\n\t\t\t\t\t\tgsap.to(_qAll('.footer > *'), { y: 100, opacity: 0 })\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgsap.to(_qAll(el2), { y: 0, opacity: 1 })\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\tbrowserBar(login = true) {\n\t\tif (login) {\n\t\t\tscroll.push((tl) => {\n\t\t\t\treturn tl\n\t\t\t}, (tl) => {\n\t\t\t\treturn ScrollTrigger.create({\n\t\t\t\t\ttrigger: '#hello',\n\t\t\t\t\tstart: \"0 0\",\n\t\t\t\t\tend: \"100% 10px\",\n\t\t\t\t\tanimation: tl,\n\t\t\t\t\tscrub: true,\n\t\t\t\t\tonLeave: () => {\n\t\t\t\t\t\tbrowser.set(\"white\")\n\t\t\t\t\t},\n\t\t\t\t\tonEnterBack: () => {\n\t\t\t\t\t\tbrowser.set(\"green\")\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t\tscroll.push((tl) => {\n\t\t\t\treturn tl\n\t\t\t}, (tl) => {\n\t\t\t\treturn ScrollTrigger.create({\n\t\t\t\t\ttrigger: '#statistics',\n\t\t\t\t\tstart: \"0 0\",\n\t\t\t\t\tend: \"100% 10px\",\n\t\t\t\t\tanimation: tl,\n\t\t\t\t\tscrub: true,\n\t\t\t\t\tonLeave: () => {\n\t\t\t\t\t\tbrowser.set(\"yellow\")\n\t\t\t\t\t},\n\t\t\t\t\tonEnter: () => {\n\t\t\t\t\t\tbrowser.set(\"white\")\n\t\t\t\t\t},\n\t\t\t\t\tonEnterBack: () => {\n\t\t\t\t\t\tbrowser.set(\"white\")\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t} else {\n\t\t\tscroll.push((tl) => {\n\t\t\t\treturn tl\n\t\t\t}, (tl) => {\n\t\t\t\treturn ScrollTrigger.create({\n\t\t\t\t\ttrigger: '#permission',\n\t\t\t\t\tstart: \"0 0\",\n\t\t\t\t\tend: \"100% 10px\",\n\t\t\t\t\tanimation: tl,\n\t\t\t\t\tscrub: true,\n\t\t\t\t\tonLeave: () => {\n\t\t\t\t\t\tbrowser.set(\"yellow\")\n\t\t\t\t\t},\n\t\t\t\t\tonEnterBack: () => {\n\t\t\t\t\t\tbrowser.set(\"green\")\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport default scrolls","\"use strict\"\n\nimport { _q, _qAll, animateNumber } from '../helpers/helper.js'\n\n/*\n    Simple span element object:\n\n    1. update(text): Update the content with text value, and animate it if it's number.\n    2. html(html): Update the content with html value.\n    3. class(classname): Add class name to span.\n*/\n\nclass span {\n    constructor() {\n        this.el = document.createElement('span')\n        return this\n    }\n\n    class(...classname) {\n        this.el.classList.add(...classname)\n        return this\n    }\n\n    html(html) {\n        this.el.innerHTML = html\n        return this\n    }\n\n    update(text) {\n        animateNumber(this.el.textContent, text, (text) => {\n            this.el.textContent = text\n        })\n        return this\n    }\n}\n\nexport default span","\"use strict\";\n\nimport { gsap } from 'gsap';\n\n/*\n    Color randomizer\n\n    1. colors: array of colors value\n    2. getRandomColor(): get the randomized color from colors list\n*/\n\nclass colors {\n    constructor() {\n        this.oldcolor = \"\";\n        this.randomcolors = [];\n\n        const allColorArrays = [\n            [\n                'rgb(63,94,251)',     // Dodger Blue\n                'rgb(252,70,107)',    // Radical Red\n                'rgb(34,193,195)',    // Light Sea Green\n                'rgb(253,187,45)',    // Goldenrod\n                'rgb(195,34,190)',    // Deep Pink\n                'rgb(219,158,0)',     // Golden Yellow\n                'rgb(75,231,152)',    // Medium Spring Green\n                'rgb(195,34,103)',    // Cerise\n                'rgb(45,182,253)'     // Dodger Blue (Lighter)\n            ]\n        ];\n\n        const seconds = Math.floor(Date.now() / 1000); // Get current time in seconds\n        const arrayIndex = seconds % allColorArrays.length; // Use seconds to determine the index\n        this.colors = allColorArrays[arrayIndex];\n    }\n\n    getRandomColor() {\n        var color;\n        do {\n            this.randomcolors = gsap.utils.shuffle(this.colors).slice();\n        } while (this.oldcolor == (color = this.randomcolors.pop()));\n        this.oldcolor = color;\n        return color;\n    }\n}\n\nexport default colors;","\"use strict\";\n\nvar iconLink = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" x=\"0px\" y=\"0px\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" style=\"enable-background:new 0 0 24 24;\" xml:space=\"preserve\"><path id=\"right\" d=\"M19.188,12.001c0,1.1-0.891,2.015-1.988,2.015l-4.195-0.015C13.543,15.089,13.968,16,15.002,16h3C19.658,16,21,13.657,21,12s-1.342-4-2.998-4h-3c-1.034,0-1.459,0.911-1.998,1.999l4.195-0.015C18.297,9.984,19.188,10.901,19.188,12.001z\"/><path id=\"center\" d=\"M8,12c0,0.535,0.42,1,0.938,1h6.109c0.518,0,0.938-0.465,0.938-1c0-0.534-0.42-1-0.938-1H8.938C8.42,11,8,11.466,8,12z\"/><path id=\"left\" d=\"M4.816,11.999c0-1.1,0.891-2.015,1.988-2.015L11,9.999C10.461,8.911,10.036,8,9.002,8h-3c-1.656,0-2.998,2.343-2.998,4s1.342,4,2.998,4h3c1.034,0,1.459-0.911,1.998-1.999l-4.195,0.015C5.707,14.016,4.816,13.099,4.816,11.999z\"/></svg>';\n\nexport default iconLink;","\"use strict\"\n\nimport span from \"./span.js\"\n\n/*\n    Plurk element object spesification:\n\n    1. id: contain the id name\n    2. user: contain user object\n    3. attached: status of element is attached in DOM or not\n    4. create(): create the DOM element\n    4. destroy(): remove the DOM element\n    4. update(): update the DOM element based on it's current value\n    5. insertTo(element): insert DOM element to spesific element, also will check if it's already created or not\n*/\n\nclass element {\n    constructor(id, data, avatarurl, customcreate) {\n        this.id = id\n        this.user = data\n        this.user_id = data.id\n        this.value = data.nick_name\n        this.nick_name = data.nick_name\n        this.attached = false\n        this.hidden = true\n        this.count = 1\n        this.position = 0\n        this.customcreate = customcreate\n        this.el = document.createElement('a')\n        this.created = false\n        this.avatarurl = avatarurl\n        this.counts = new span().class(\"count\").html(this.count)\n    }\n\n    create() {\n        this.created = true\n\n        this.el.setAttribute(\"id\", this.id + this.user_id)\n        this.el.setAttribute(\"class\", 'plurkers')\n        this.el.setAttribute(\"href\", 'https://plurk.com/' + this.user.nick_name)\n        this.el.setAttribute(\"target\", '_BLANK')\n\n        if (!this.customcreate) {\n            this.avatar = new span()\n                .class(\"avatar\")\n                .html(`<img src=\"${this.avatarurl}\" />`)\n            this.name = new span()\n                .class(\"name\")\n                .html(`${this.user.display_name}`)\n            this.counts = new span()\n                .class('count')\n                .html(this.count)\n            this.el.appendChild(this.avatar.el)\n            this.el.appendChild(this.name.el)\n            this.el.appendChild(this.counts.el)\n        } else {\n            this.customcreate(this)\n        }\n    }\n\n    insertTo(element) {\n        if (!this.created) this.create()\n\n        this.attached = true\n        element.insertAdjacentElement(\"beforeend\", this.el)\n    }\n\n    destroy() {\n        this.attached = false\n\n        if (this.el) {\n            this.el.remove()\n            return true\n        } else {\n            return false\n        }\n    }\n\n    update() {\n        // Only update when it's attached\n        if (this.attached) {\n            this.counts.update(`${this.count}`)\n        }\n    }\n}\n\nexport default element","\"use strict\"\n\nimport api from \"../helpers/api.js\"\nimport { plural, datediff, pluralinwords } from '../helpers/helper.js'\n\nimport span from \"./span.js\"\nimport iconLink from \"./icons.js\"\nimport element from \"./element.js\"\n\nclass most {\n\tconstructor(statistics) {\n\t\tif (!statistics) return\n\n\t\tthis.me = statistics.me\n\t\tthis.friends = statistics.friends\n\t\tthis.year = statistics.year\n\t\tthis.statistics = statistics\n\n\t\tthis.responders = {\n\t\t\tdata: [],\n\t\t\tparent: this,\n\t\t\tcount: async function (response) {\n\t\t\t\tvar index = this.data.findIndex(function (el) {\n\t\t\t\t\treturn el.user_id == response.user_id\n\t\t\t\t})\n\n\t\t\t\tif (index < 0) {\n\t\t\t\t\tvar user = await this.parent.friends.find(response.user_id)\n\t\t\t\t\tthis.data.push(new element('mostresponders', user, this.parent.friends.getAvatar(user.id)))\n\t\t\t\t} else {\n\t\t\t\t\tthis.data[index].count++\n\t\t\t\t}\n\t\t\t\tthis.data.sort(this.parent.sort)\n\n\t\t\t\t// Update top 5\n\t\t\t\tvar index = 1\n\t\t\t\tfor (var i = 0; i < this.data.length; i++) {\n\t\t\t\t\tthis.data[i].position = this.data.length\n\t\t\t\t\tif (this.data[i].user_id != this.parent.me.id && this.data[i].user_id != 99999) {\n\t\t\t\t\t\tthis.data[i].position = index++\n\t\t\t\t\t\tthis.parent.statistics.attach('<i>Top <img src=\"https://api.iconify.design/fluent-emoji:left-speech-bubble.svg\" /> Responders</i> <strong>of My Timeline</strong>', this.data[i], 5)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdraw: function () {\n\t\t\t\tvar index = 0\n\t\t\t\tif (this.data.length > 0) {\n\t\t\t\t\twhile ((this.data[index].user_id == this.parent.me.id || this.data[index].user_id == 99999) && index < this.data.length) index++\n\t\t\t\t\tif (this.data[index]) this.parent.statistics.drawImage(\"avatar\", this.parent.friends.getAvatar(this.data[index].user_id), 'https://plurk.com/' + this.data[index].user.nick_name, '<i>Most Responder</i>', this.data[index].user.display_name, this.data[index].count)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.mentions = {\n\t\t\tdata: [],\n\t\t\tdataAll: [],\n\t\t\tparent: this,\n\t\t\tcount: async function (content) {\n\t\t\t\tvar result = this.parent.findregex(/\\@(\\w{1,30})[\\ |\\:]/g, value => value.replace(/\\@|\\ |\\:/g, ''), content, this.data)\n\t\t\t\tvar max = 5\n\t\t\t\tvar index = 1\n\n\t\t\t\tif (result) {\n\t\t\t\t\t// Update top 5\n\t\t\t\t\tthis.data.sort(this.parent.sort)\n\t\t\t\t\tfor (var idx = 0; idx < this.data.length; idx++) {\n\t\t\t\t\t\tthis.data[idx].position = this.data.length\n\n\t\t\t\t\t\tif (index <= max) {\n\t\t\t\t\t\t\tvar user = await this.parent.friends.findByUsername(this.data[idx].value)\n\n\t\t\t\t\t\t\tif (this.data[idx].el == undefined) {\n\t\t\t\t\t\t\t\tthis.data[idx] = new element('mostmentionedbyme', user, \"\", plurker => {\n\t\t\t\t\t\t\t\t\tplurker.avatar = new span().class(\"avatar\").html(`<img src=\"${this.parent.friends.getAvatar(plurker.user_id)}\" />`)\n\t\t\t\t\t\t\t\t\tplurker.name = new span().class(\"name\").html(`@${plurker.nick_name}`)\n\t\t\t\t\t\t\t\t\tplurker.counts = new span().class(\"count\").html(plurker.count)\n\t\t\t\t\t\t\t\t\tplurker.el.appendChild(plurker.avatar.el)\n\t\t\t\t\t\t\t\t\tplurker.el.appendChild(plurker.name.el)\n\t\t\t\t\t\t\t\t\tplurker.el.appendChild(plurker.counts.el)\n\t\t\t\t\t\t\t\t\tplurker.el.setAttribute(\"href\", 'https://plurk.com/' + plurker.nick_name)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (user.id != this.parent.me.id && user.id != 99999) {\n\t\t\t\t\t\t\t\tthis.data[idx].position = index++\n\t\t\t\t\t\t\t\tthis.parent.statistics.attach('<i>Most <img src=\"https://api.iconify.design/fluent-emoji:person-raising-hand-light.svg\" /> Mentioned</i> <strong>in My Timeline</strong>', this.data[idx], max)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.data[idx].el) this.parent.statistics.attach('<i>Most <img src=\"https://api.iconify.design/fluent-emoji:person-raising-hand-light.svg\" /> Mentioned</i> <strong>in My Timeline</strong>', this.data[idx], max)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdraw: function () {\n\t\t\t\tvar index = 0\n\t\t\t\tif (this.data.length > 0) {\n\t\t\t\t\twhile ((this.data[index].user_id == this.parent.me.id || this.data[index].user_id == 99999) && index < this.data.length) index++\n\t\t\t\t\tif (this.data[index]) this.parent.statistics.drawImage(\"avatar\", this.parent.friends.getAvatarByUsername(this.data[index].value), 'https://plurk.com/' + this.data[index].value, '<i>Most Mentioned</i> by me', \"@\" + this.data[index].value, this.data[index].count)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.myemoticons = {\n\t\t\tdata: [],\n\t\t\tparent: this,\n\t\t\tcount: function (content) {\n\t\t\t\tthis.parent.findregex(/emoticon_my\\\" src=\\\"(.*?)\\\"/g, function (value) {\n\t\t\t\t\treturn value.replace(/emoticon_my\\\" src=\\\"|\\\"/gi, '')\n\t\t\t\t}, content, this.data)\n\t\t\t},\n\t\t\tdraw: function () {\n\t\t\t\tvar html = \"\"\n\t\t\t\tvar max = 7\n\t\t\t\tthis.data.sort(this.parent.sort)\n\t\t\t\tfor (var i = 0; i < (this.data.length < max ? this.data.length : max) && this.data[i]; i++)\n\t\t\t\t\tif (this.data[i].count > 1) html += '<div><img src=\"' + this.data[i].value + '\" /> <span class=\"count\">' + this.data[i].count + '</span></div>'\n\t\t\t\tif (html != \"\") this.parent.statistics.drawHTML(\"smallspan grid emoticons\", 'Most Used <i>My Emoticons</i>', html)\n\t\t\t}\n\t\t}\n\n\t\tthis.hashtags = {\n\t\t\tdata: [],\n\t\t\tparent: this,\n\t\t\tcount: function (content) {\n\t\t\t\tthis.parent.findregex(/hashtag\\\"\\>(.*?)\\</g, function (value) {\n\t\t\t\t\treturn value.replace(/hashtag\\\"\\>\\#|\\.\\<|\\</g, '')\n\t\t\t\t}, content, this.data)\n\t\t\t},\n\t\t\tdraw: function () {\n\t\t\t\tvar html = \"\"\n\t\t\t\tvar max = 5\n\t\t\t\tthis.data.sort(this.parent.sort)\n\t\t\t\tfor (var i = 0; i < (this.data.length < max ? this.data.length : max) && this.data[i]; i++)\n\t\t\t\t\tif (this.data[i].count > 1) html += '<div><a href=\"https://plurk.com/search?q=' + this.data[i].value + '\" target=\"_BLANK\" /><span class=\"count\">' + this.data[i].count + '</span> #' + this.data[i].value + '</a></div>'\n\t\t\t\tif (html != \"\") {\n\t\t\t\t\thtml = \"<strong>#</strong>\" + html\n\t\t\t\t\tthis.parent.statistics.drawHTML(\"hashtags\", 'Most Used <i>Hashtags</i>', html)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.links = {\n\t\t\tdata: [],\n\t\t\tlinks: [],\n\t\t\tpics: [],\n\t\t\tparent: this,\n\t\t\tcount: function (content, id, response, replurk, loved) {\n\t\t\t\tvar result = content.match(/href\\=\\\"(.*?)\\\"\\ class=\\\"(.*?)\\\"\\ rel/g)\n\t\t\t\tvar count = 0\n\t\t\t\tvar pics = []\n\t\t\t\tvar links = []\n\n\t\t\t\tif (result) for (var data of result) {\n\t\t\t\t\tif (!this.data[id]) {\n\t\t\t\t\t\tcount = response + (replurk * 250) + (loved * 50)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.includes(\"pictureservices\")) {\n\t\t\t\t\t\tthis.pics.push(data)\n\t\t\t\t\t\tif (count > 0) {\n\t\t\t\t\t\t\tvar pic = data.split('\\\"')\n\t\t\t\t\t\t\tpics.push({\n\t\t\t\t\t\t\t\turl: pic[1],\n\t\t\t\t\t\t\t\tresponse: response,\n\t\t\t\t\t\t\t\treplurk: replurk,\n\t\t\t\t\t\t\t\tloved: loved\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.links.push(data)\n\t\t\t\t\t\tif (count > 0) {\n\t\t\t\t\t\t\tvar link = data.split('\\\"')\n\t\t\t\t\t\t\tlinks.push({\n\t\t\t\t\t\t\t\turl: link[1],\n\t\t\t\t\t\t\t\tresponse: response,\n\t\t\t\t\t\t\t\treplurk: replurk,\n\t\t\t\t\t\t\t\tloved: loved\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (count) this.data.push({\n\t\t\t\t\tid: id,\n\t\t\t\t\tpics: pics,\n\t\t\t\t\tlinks: links,\n\t\t\t\t\tcount: count,\n\t\t\t\t\tcontent: content\n\t\t\t\t})\n\t\t\t},\n\t\t\tdrawLinks: function () {\n\t\t\t\tvar max = 1\n\t\t\t\tvar index = 0\n\t\t\t\tvar result = \"\"\n\t\t\t\tthis.data.sort(this.parent.sort)\n\t\t\t\twhile (index < this.data.length && max > 0) {\n\t\t\t\t\tif (this.data[index].links.length > 0) {\n\t\t\t\t\t\tvar link = this.data[index].links[0]\n\t\t\t\t\t\tvar url = '<a href=\"https://plurk.com/p/' + this.data[index].id.toString(36) + '\" class=\"link\" target=\"_BLANK\">' + iconLink + '</a>'\n\t\t\t\t\t\tresult += '<div class=\"post\"><div class=\"info\">' + this.data[index].content + '</div><div class=\"meta\"><span class=\"response\"><img src=\"https://api.iconify.design/fluent-emoji:left-speech-bubble.svg\" /> ' + link.response + '</span><span class=\"replurk\"><img src=\"https://api.iconify.design/fluent-emoji:megaphone.svg\" /> ' + link.replurk + '</span><span class=\"loved\"><img src=\"https://api.iconify.design/fluent-emoji:red-heart.svg\" /> ' + link.loved + '</span>' + url + '</div></div>'\n\t\t\t\t\t\tmax--\n\t\t\t\t\t}\n\t\t\t\t\tindex++\n\t\t\t\t}\n\t\t\t\tif (this.links.length > 0) this.parent.statistics.drawDiv('spansmall sharedlinks', \"<div class='title'>I shared <i> \" + plural(this.links.length, 'link') + '</i> and this is the most popular one</div>' + result)\n\t\t\t},\n\t\t\tdrawPics: function () {\n\t\t\t\tvar max = 1\n\t\t\t\tvar index = 0\n\t\t\t\tvar result = \"\"\n\t\t\t\tthis.data.sort(this.parent.sort)\n\t\t\t\twhile (index < this.data.length && max > 0) {\n\t\t\t\t\tif (this.data[index].pics.length > 0) {\n\t\t\t\t\t\tvar pics = this.data[index].pics[0]\n\t\t\t\t\t\tvar url = '<a href=\"https://plurk.com/p/' + this.data[index].toString(36) + '\" class=\"link\" target=\"_BLANK\">' + iconLink + '</a>'\n\t\t\t\t\t\tresult += '<div class=\"box\"><div class=\"image\" style=\"background-image: url(' + api.url + \"?img=\" + pics.url + ')\"></div><div class=\"post\">' + this.data[index].content + '<div class=\"meta\"><span class=\"response\"><img src=\"https://api.iconify.design/fluent-emoji:left-speech-bubble.svg\" /> ' + pics.response + '</span><span class=\"replurk\"><img src=\"https://api.iconify.design/fluent-emoji:megaphone.svg\" /> ' + pics.replurk + '</span><span class=\"loved\"><img src=\"https://api.iconify.design/fluent-emoji:red-heart.svg\" /> ' + pics.loved + '</span>' + url + '</div></div></div>'\n\t\t\t\t\t\tmax--\n\t\t\t\t\t}\n\t\t\t\t\tindex++\n\t\t\t\t}\n\n\t\t\t\tif (this.pics.length > 0) this.parent.statistics.draw('spansmall sharedpictures', this.pics.length, 'I shared <i> ' + plural(this.pics.length, 'image') + '</i>')\n\t\t\t\tif (result != \"\") this.parent.statistics.drawHTML('span2 previewpics', '<i> Most Popular Image</i>', result)\n\t\t\t}\n\t\t}\n\n\t\tthis.types = {\n\t\t\twords: 0,\n\t\t\tchars: 0,\n\t\t\tparent: this,\n\t\t\tcount: function (content) {\n\t\t\t\tvar words = content.split(\" \")\n\n\t\t\t\tthis.chars += content.length\n\t\t\t\tthis.words += words.length\n\t\t\t},\n\t\t\tdraw: function () {\n\t\t\t\tif (this.chars > 0) this.parent.statistics.draw('span2 mediumnumber', this.chars, 'I typed more than  <i>' + pluralinwords(this.chars, 'character') + '</i>, around <i>' + pluralinwords(this.words, 'word') + '</i> this year')\n\t\t\t}\n\t\t}\n\n\t\tthis.responses = {\n\t\t\tparent: this,\n\t\t\tsort: (a, b) => b.response_count - a.response_count,\n\t\t\tdraw: function (posts) {\n\t\t\t\tvar post\n\t\t\t\tposts.sort(this.sort)\n\t\t\t\tif (post = posts[0], post.owner_id == this.parent.me.id && post.plurk_type != 3 && post.response_count > 0) {\n\t\t\t\t\tthis.parent.statistics.drawPost('postcontent span2 mostresponded', post.plurk_id, '<i><img src=\"https://api.iconify.design/fluent-emoji:left-speech-bubble.svg\" /> Most Responded</i> ' + datediff(post.posted), post.content, post.response_count)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.replurk = {\n\t\t\tparent: this,\n\t\t\tsort: (a, b) => b.replurkers_count - a.replurkers_count,\n\t\t\tdraw: function (posts) {\n\t\t\t\tvar post\n\t\t\t\tposts.sort(this.sort)\n\t\t\t\tif (post = posts[0], post.owner_id == this.parent.me.id && post.plurk_type != 3 && post.replurkers_count > 0) {\n\t\t\t\t\tthis.parent.statistics.drawPost('postcontent span2 mostreplurked', post.plurk_id, '<i><img src=\"https://api.iconify.design/fluent-emoji:megaphone.svg\" /> Most Replurked</i> ' + datediff(post.posted), post.content, post.replurkers_count)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.favorite = {\n\t\t\tparent: this,\n\t\t\tsort: (a, b) => b.favorite_count - a.favorite_count,\n\t\t\tdraw: function (posts) {\n\t\t\t\tvar post\n\t\t\t\tposts.sort(this.sort)\n\t\t\t\tif (post = posts[0], post.owner_id == this.parent.me.id && post.plurk_type != 3 && post.favorite_count > 0) {\n\t\t\t\t\tthis.parent.statistics.drawPost('postcontent span2 mostfavorited', post.plurk_id, '<i><img src=\"https://api.iconify.design/fluent-emoji:red-heart.svg\" /> Most Loved</i> ' + datediff(post.posted), post.content, post.favorite_count)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.interaction = {\n\t\t\tdata: [],\n\t\t\tparent: this,\n\t\t\tcount: function (response) {\n\t\t\t\tvar index = this.data.findIndex(function (el) {\n\t\t\t\t\treturn el.id == response.user_id\n\t\t\t\t})\n\n\t\t\t\tif (index < 0) {\n\t\t\t\t\tthis.data.push({\n\t\t\t\t\t\tid: response.user_id,\n\t\t\t\t\t\tcount: 1,\n\t\t\t\t\t\tmultiplier: 1,\n\t\t\t\t\t\tplurk_id: response.plurk_id\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tif (this.data[index].plurk_id == response.plurk_id) this.data[index].multiplier++\n\t\t\t\t\telse this.data[index].multiplier = 1\n\t\t\t\t\tthis.data[index].count += (this.data[index].multiplier * response.content_raw.length)\n\t\t\t\t}\n\t\t\t\tthis.data.sort(this.parent.sort)\n\t\t\t},\n\t\t\tdraw: function () {\n\t\t\t\tvar result = []\n\t\t\t\tvar length = 0\n\t\t\t\tvar index = 0\n\t\t\t\twhile (this.data[index] && length <= 5) {\n\t\t\t\t\tif (this.data[index].id != this.parent.me.id) {\n\t\t\t\t\t\tresult.push(this.data[index])\n\t\t\t\t\t\tlength++\n\t\t\t\t\t}\n\t\t\t\t\tindex++\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tif (result.length > 0) this.parent.statistics.drawUserList(\"bubble span2\", \"mostinteraction\", \"Plurkers who really like to <i><img src='https://api.iconify.design/fluent-emoji:speaking-head.svg' /> interact</i> with me\", result)\n\t\t\t\t} catch {\n\t\t\t\t\tconsole.info(\"Error while counting most interacted plurker\")\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.mvp = {\n\t\t\tdata: [],\n\t\t\tparent: this,\n\t\t\tcount: function (response, type) {\n\t\t\t\tvar index = this.data.findIndex(function (el) {\n\t\t\t\t\treturn el.id == response.user_id\n\t\t\t\t})\n\n\t\t\t\tif (index < 0) {\n\t\t\t\t\tthis.data.push({\n\t\t\t\t\t\tid: response.user_id,\n\t\t\t\t\t\tcount: 1,\n\t\t\t\t\t\tmultiplier: 1,\n\t\t\t\t\t\tplurk_id: response.plurk_id\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tif (type == \"replurk\") {\n\t\t\t\t\t\tthis.data[index].count += (response.count * 250)\n\t\t\t\t\t} else if (type == \"favorite\") {\n\t\t\t\t\t\tthis.data[index].count += (response.count * 50)\n\t\t\t\t\t} else if (response.content_raw.length > 16) {\n\t\t\t\t\t\tif (this.data[index].plurk_id == response.plurk_id) this.data[index].multiplier += .5\n\t\t\t\t\t\telse this.data[index].multiplier = .5\n\t\t\t\t\t\tthis.data[index].count += (this.data[index].multiplier * response.content_raw.length)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.data.sort(this.parent.sort)\n\t\t\t},\n\t\t\tdraw: function () {\n\t\t\t\tvar result = []\n\t\t\t\tvar length = 0\n\t\t\t\tvar index = 0\n\t\t\t\twhile (this.data[index] && length <= 5) {\n\t\t\t\t\tif (this.data[index].id != this.parent.me.id) {\n\t\t\t\t\t\tresult.push(this.data[index])\n\t\t\t\t\t\tlength++\n\t\t\t\t\t}\n\t\t\t\t\tindex++\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tif (result.length > 0) this.parent.statistics.drawUserList(\"bubble span3\", \"mvp\", \"My \" + this.parent.year + \" <i><img src='https://api.iconify.design/fluent-emoji:biting-lip.svg' /> MVP</i>\", result)\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.info(\"Error while counting my mvp\", error)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tsort(a, b) {\n\t\treturn b.count - a.count\n\t}\n\n\t// Find and count all based on regex\n\tfindregex(regex, replace, content, storage) {\n\t\tvar result = content.match(regex)\n\n\t\tfor (var index in result) {\n\t\t\tvar value = replace(result[index])\n\t\t\tvar idx = storage.findIndex(el => el.value == value)\n\n\t\t\tif (idx < 0) {\n\t\t\t\tstorage.push({\n\t\t\t\t\tid: value,\n\t\t\t\t\tvalue: value,\n\t\t\t\t\tcount: 1\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tstorage[idx].count++\n\t\t\t}\n\t\t}\n\n\t\treturn result\n\t}\n\n\tasync countAll(data) {\n\t\t// Find and count all my emoticons from my post\n\t\tif (data.user_id == this.me.id) this.myemoticons.count(data.content)\n\t\t// Find and count all mentions from my post\n\t\tawait this.mentions.count(data.content_raw)\n\t\t// Find and count all hashtags from my post\n\t\tif (data.user_id == this.me.id) this.hashtags.count(data.content)\n\t\t// Find and count all links and pictures post from my post\n\t\tif (data.user_id == this.me.id) this.links.count(data.content, data.plurk_id, data.response_count, data.replurkers_count, data.favorite_count)\n\t\t// Find and count characther and words from my post\n\t\tif (data.user_id == this.me.id) this.types.count(data.content_raw)\n\t}\n}\n\nexport default most","// Inactive plurker object\nclass inactive {\n\tconstructor(statistics) {\n\t\tthis.statistics = statistics\n\t\tthis.year = statistics.year\n\t}\n\n\tdraw(data) {\n\t\tthis.statistics.draw('inactive', this.year + \" &#8617;\", 'I\\'ve been inactive since ' + year + ' <img src=\"https://s.plurk.com/emoticons/platinum/318416eab5a856bddb1e106a21ff557a.gif\" />');\n\t\tthis.statistics.drawPost('postcontent span2 inactivemore', data.plurk_id, '<i>My last Plurk</i> ' + datediff(data.posted), data.content, data.response_count);\n\t}\n\n\tempty() {\n\t\tthis.statistics.draw('inactive', '-', 'I didn\\'t post anything at this year <img src=\"https://s.plurk.com/emoticons/platinum/318416eab5a856bddb1e106a21ff557a.gif\" />');\n\t}\n}\n\nexport default inactive","\"use strict\"\n\nimport { gsap } from 'gsap'\nimport { ScrollTrigger } from 'gsap/ScrollTrigger.js'\nimport html2canvas from \"html2canvas\"\n\nimport api from \"../helpers/api.js\"\nimport scroll from \"../helpers/scroll.js\"\nimport { hasClass, plural, reduceMotionFilter } from '../helpers/helper.js'\n\nimport span from \"./span.js\"\nimport colors from \"./colors.js\"\nimport iconLink from \"./icons.js\"\nimport element from \"./element.js\"\nimport most from \"./most.js\"\nimport inactive from \"./inactive.js\"\n\nclass statistics {\n\tconstructor(next, me, friends, year) {\n\t\tif (!next || !me || !friends || !year) return\n\n\t\tthis.whispers_count = 0\n\t\tthis.poll_count = 0\n\t\tthis.poll_responder_count = 0\n\t\tthis.coins_count = 0\n\t\tthis.porn_count = 0\n\t\tthis.noresponse_count = 0\n\t\tthis.private_count = 0\n\t\tthis.replurker_count = 0\n\t\tthis.replurker_list = []\n\t\tthis.favourite_count = 0\n\t\tthis.favorite_list = []\n\t\tthis.response_count = 0\n\t\tthis.responded_count = 0\n\t\tthis.responded_other_count = 0\n\t\tthis.responded_other_list = []\n\t\tthis.plurks_count = 0\n\t\tthis.id = 0\n\t\tthis.randomcolors = []\n\n\t\tthis.next = next\n\t\tthis.me = me\n\t\tthis.friends = friends\n\t\tthis.year = year\n\n\t\t// Most statistics object renderer\n\t\tthis.most = new most(this)\n\n\t\t// Inactive timeline\n\t\tthis.inactive = new inactive(this)\n\n\t\tthis.el = this.next.querySelector(\"#statistics\")\n\n\t\t// Obverse when element is added to DOM\n\t\tvar observer = new MutationObserver((mutationsList) => {\n\t\t\tmutationsList.forEach(mutation => {\n\t\t\t\tmutation.addedNodes.forEach(el => {\n\t\t\t\t\tif (hasClass(el, \"statistics\")) {\n\t\t\t\t\t\tconsole.log(el)\n\t\t\t\t\t\tthis.afterDraw(el)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t})\n\t\tobserver.observe(this.el, {\n\t\t\tattributes: true,\n\t\t\tchildList: true,\n\t\t\tsubtree: false\n\t\t})\n\t}\n\n\tclear() {\n\t\tthis.el.innerHTML = \"\"\n\t}\n\n\tlistCount(list, collection) {\n\t\tif (collection.length > 0) {\n\t\t\tcollection.forEach(value => {\n\t\t\t\tvar index = list.findIndex(el => el.id == value)\n\n\t\t\t\tif (index < 0) list.push({ id: value, count: 1 })\n\t\t\t\telse list[index].count++\n\t\t\t})\n\t\t}\n\n\t\treturn list\n\t}\n\n\ttitle(text, style = \"\", loading = false) {\n\t\tlet span = loading ? `<span class=\"loading\"><i/>` : `<span class=\"line\"><i/></span>`\n\t\tthis.el.insertAdjacentHTML('beforeend', `\\\n\t\t\t<div class=\"statistics middle statistics-title ${style}\">\\\n\t\t\t\t<h3><span>${text}</span>${span}</h3>\\\n\t\t\t</div>`)\n\t}\n\n\tbody(text, style = \"\") {\n\t\tthis.el.insertAdjacentHTML('beforeend', `\\\n\t\t\t<div class=\"statistics middle statistics-title ${style}\">\\\n\t\t\t\t<div class=\"body\">${text}</div>\\\n\t\t\t</div>`)\n\t}\n\n\tafterDraw(el) {\n\t\tvar length = reduceMotionFilter(1)\n\n\t\tif (hasClass(el, 'statistics-wrap')) {\n\t\t\tvar color = new colors()\n\t\t\tvar randomcolors = [color.getRandomColor(), color.getRandomColor()]\n\t\t\tvar anim = el.querySelector(\".anim\")\n\n\t\t\tgsap.set(anim, {\n\t\t\t\tbackground: 'radial-gradient(at 10% 10%, ' + randomcolors[0] + ' 0%, ' + randomcolors[1] + ' 100%)'\n\t\t\t})\n\n\t\t\tgsap.to(anim, {\n\t\t\t\topacity: 1,\n\t\t\t\tduration: length / 2,\n\t\t\t\tease: \"power3.out\"\n\t\t\t}, 0)\n\n\t\t\t// Scroll animation wrap section\n\t\t\tvar screen = gsap.matchMedia()\n\t\t\tscreen.add(\"(min-aspect-ratio: 1/1)\", () => {\n\t\t\t\tscroll.push(tl => {\n\t\t\t\t\ttl.fromTo(el.children, {\n\t\t\t\t\t\ty: 0\n\t\t\t\t\t}, {\n\t\t\t\t\t\ty: 0,\n\t\t\t\t\t\tease: \"ease.out\"\n\t\t\t\t\t}, 0)\n\t\t\t\t\treturn tl\n\t\t\t\t}, tl => {\n\t\t\t\t\treturn ScrollTrigger.create({\n\t\t\t\t\t\ttrigger: el,\n\t\t\t\t\t\tstart: \"0 100%-=100px\",\n\t\t\t\t\t\tend: \"0 100%-=100px\",\n\t\t\t\t\t\tanimation: tl,\n\t\t\t\t\t\tmarkers: true,\n\t\t\t\t\t\tscrub: 2\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t})\n\t\t\tscreen.add(\"(max-aspect-ratio: 1/1)\", () => {\n\t\t\t\tscroll.push(tl => {\n\t\t\t\t\ttl.fromTo(el.children, {\n\t\t\t\t\t\ty: 0\n\t\t\t\t\t}, {\n\t\t\t\t\t\ty: 0\n\t\t\t\t\t}, 0)\n\t\t\t\t\treturn tl\n\t\t\t\t}, tl => {\n\t\t\t\t\treturn ScrollTrigger.create({\n\t\t\t\t\t\ttrigger: el,\n\t\t\t\t\t\tstart: \"0 100%-=100px\",\n\t\t\t\t\t\tend: \"100px 100%-=100px\",\n\t\t\t\t\t\tanimation: tl,\n\t\t\t\t\t\tscrub: 1\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t})\n\n\t\t\t// Animate number\n\t\t\tscroll.push(function (tl) {\n\t\t\t\tif (el.querySelector(\".big\")) {\n\t\t\t\t\tvar number = Number(el.querySelector(\".big\").textContent)\n\t\t\t\t\tif (number > 0) {\n\t\t\t\t\t\tvar load = { progress: 0 }\n\t\t\t\t\t\tvar duration = 1\n\t\t\t\t\t\tif (number >= 500 && number < 1000) duration = 2\n\t\t\t\t\t\telse if (number >= 1000 && number < 99999) duration = 3\n\t\t\t\t\t\telse if (number >= 99999) duration = 4\n\t\t\t\t\t\ttl.to(load, {\n\t\t\t\t\t\t\tprogress: number,\n\t\t\t\t\t\t\tsnap: \"progress\",\n\t\t\t\t\t\t\tease: \"power3.out\",\n\t\t\t\t\t\t\tduration: duration,\n\t\t\t\t\t\t\tonUpdate: () => {\n\t\t\t\t\t\t\t\tel.querySelector(\".big\").textContent = plural(load.progress)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 0)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tl\n\t\t\t}, tl => {\n\t\t\t\treturn ScrollTrigger.create({\n\t\t\t\t\ttrigger: el,\n\t\t\t\t\tstart: \"0 100%-=100px\",\n\t\t\t\t\tend: \"100px 100%-=100px\",\n\t\t\t\t\tanimation: tl,\n\t\t\t\t\ttoggleActions: \"play none none none\"\n\t\t\t\t})\n\t\t\t})\n\t\t} else {\n\t\t\t// Scroll animation header line section\n\t\t\tscroll.push(tl => {\n\t\t\t\ttl.fromTo(el.querySelectorAll(\"i\"), {\n\t\t\t\t\tx: \"-100%\"\n\t\t\t\t}, {\n\t\t\t\t\tx: \"0%\",\n\t\t\t\t\tease: \"ease.out\"\n\t\t\t\t}, 0)\n\t\t\t\treturn tl\n\t\t\t}, tl => {\n\t\t\t\treturn ScrollTrigger.create({\n\t\t\t\t\ttrigger: el,\n\t\t\t\t\tstart: \"100% 100%\",\n\t\t\t\t\tend: \"100% 0\",\n\t\t\t\t\tanimation: tl,\n\t\t\t\t\tscrub: 1\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\n\t\tif (hasClass(el, 'drawgraph')) {\n\t\t\tscroll.push(tl => {\n\t\t\t\ttl.fromTo(el.querySelector(\".graph\"), {\n\t\t\t\t\ty: 100\n\t\t\t\t}, {\n\t\t\t\t\ty: 0\n\t\t\t\t}, 0)\n\n\t\t\t\ttl.fromTo(el.querySelector(\".graph i\"), {\n\t\t\t\t\theight: \"0%\"\n\t\t\t\t}, {\n\t\t\t\t\theight: el.querySelector(\".graph i\").getAttribute(\"data-number\") + \"%\"\n\t\t\t\t}, 0)\n\n\t\t\t\treturn tl\n\t\t\t}, tl => {\n\t\t\t\treturn ScrollTrigger.create({\n\t\t\t\t\ttrigger: el,\n\t\t\t\t\tstart: \"50% 100%\",\n\t\t\t\t\tend: \"100% 100%\",\n\t\t\t\t\tanimation: tl,\n\t\t\t\t\tscrub: 1\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\n\t\tif (hasClass(el, 'coins')) {\n\t\t\tscroll.push(tl => {\n\t\t\t\ttl.fromTo(el.querySelector(\".big\"), {\n\t\t\t\t\ty: \"50%\"\n\t\t\t\t}, {\n\t\t\t\t\ty: 0,\n\t\t\t\t\tease: \"power3.out\"\n\t\t\t\t}, 0)\n\t\t\t\treturn tl\n\t\t\t}, tl => {\n\t\t\t\treturn ScrollTrigger.create({\n\t\t\t\t\ttrigger: el,\n\t\t\t\t\tstart: \"50% 100%\",\n\t\t\t\t\tend: \"100% 100%\",\n\t\t\t\t\tanimation: tl,\n\t\t\t\t\tscrub: 2\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\n\t\t// Capture function\n\t\tthis.capture(el)\n\t}\n\n\tcapture(el) {\n\t\tvar capture = el.querySelector(\".anim\")\n\t\tif (!capture) return\n\n\t\tcapture.onclick = async () => {\n\t\t\tif (capture.generating) return\n\n\t\t\t// Informing user the process is starting\n\t\t\tcapture.generating = true\n\t\t\tdocument.body.style.cursor = \"wait\"\n\n\t\t\t// HTML to Canvas magic\n\t\t\tcapture.innerHTML = \"Processing...\"\n\t\t\tvar canvas = await html2canvas(capture, {\n\t\t\t\tbackgroundColor: null,\n\t\t\t\tlogging: false,\n\t\t\t\tproxy: `${api.url}?img=`,\n\t\t\t\tuseCORS: true\n\t\t\t})\n\n\t\t\t// Download the output\n\t\t\tvar link = document.createElement(\"a\")\n\t\t\tlink.style.display = \"none\"\n\t\t\tlink.download = \"replurk\" + this.year + \"-\" + Date.now() + \".png\"\n\t\t\tlink.href = canvas.toDataURL()\n\t\t\tdocument.body.appendChild(link)\n\t\t\tlink.click()\n\t\t\tdocument.body.removeChild(link)\n\t\t\tlink.remove()\n\n\t\t\t// Reset button after 3s\n\t\t\tcapture.innerHTML = \"Done\"\n\t\t\tdocument.body.style.cursor = \"default\"\n\t\t\tsetTimeout(() => {\n\t\t\t\tcapture.innerHTML = \"Recapture\"\n\t\t\t\tcapture.generating = false\n\t\t\t}, 3000)\n\t\t}\n\t}\n\n\twrapper(style, text, background) {\n\t\treturn `<div class=\"statistics middle statistics-wrap ${style}\">\\\n\t\t\t<div class=\"anim\" ${background ? `style=\"background-images:url(${background})\"` : ``}>${text}</div>\\\n\t\t</div>`\n\t}\n\n\tdraw(style, number, text, background) {\n\t\tif (typeof number == \"string\" || (typeof number == \"number\" && number > 0)) {\n\t\t\tthis.el.insertAdjacentHTML('beforeend', this.wrapper(style, `\\\n\t\t\t\t<p>\\\n\t\t\t\t\t<span class=\"big\">${number}</span>\\\n\t\t\t\t\t<span class=\"text\">${text}</span>\\\n\t\t\t\t</p>\\\n\t\t\t`), background)\n\t\t}\n\t}\n\n\tdrawDiv(style, text) {\n\t\tthis.el.insertAdjacentHTML('beforeend', this.wrapper(style, '<div class=\"box\">' + text + '</div>'))\n\t}\n\n\tdrawGraph(style, number, text) {\n\t\tif (typeof number == \"string\" || (typeof number == \"number\" && number > 0)) {\n\t\t\tthis.el.insertAdjacentHTML('beforeend', this.wrapper(style + \" drawgraph movetitle\", '\\\n\t\t\t\t<p>\\\n\t\t\t\t\t<span class=\"graph\"><i data-number=\"' + number + '\"></i></span>\\\n\t\t\t\t\t<span class=\"info\">' + text + '</span>\\\n\t\t\t\t</p>\\\n\t\t\t'))\n\t\t}\n\t}\n\n\tdrawImage(style, image, link, title, text, badge) {\n\t\tthis.el.insertAdjacentHTML('beforeend', this.wrapper(style + \" drawimage\", '\\\n\t\t\t<a href=\"' + link + '\" target=\"_BLANK\">\\\n\t\t\t\t<span class=\"big\">' + badge + '</span>\\\n\t\t\t\t<span class=\"avatar\"><img src=\"' + image + '\" /></span>\\\n\t\t\t\t<span class=\"text\">' + text + '</span>\\\n\t\t\t\t<span class=\"title\">' + title + '</span>\\\n\t\t\t</a>\\\n\t\t'))\n\t}\n\n\tdrawHTML(style, title, html) {\n\t\tthis.el.insertAdjacentHTML('beforeend', this.wrapper(style + \" drawhtml\", '\\\n\t\t\t<div>\\\n\t\t\t\t<div class=\"htmlcontent\">' + html + '</div>\\\n\t\t\t\t<div class=\"title\">' + title + '</div>\\\n\t\t\t</div>\\\n\t\t'))\n\t}\n\n\tdrawLink(style, link, title, text, badge) {\n\t\tthis.el.insertAdjacentHTML('beforeend', this.wrapper(style + \" drawlink\", '\\\n\t\t\t<a href=\"' + link + '\" target=\"_BLANK\">\\\n\t\t\t\t<span class=\"big\">' + badge + '</span>\\\n\t\t\t\t<span>' + text + '</span>\\\n\t\t\t\t<span class=\"title\">' + title + '</span>\\\n\t\t\t</a>\\\n\t\t'))\n\t}\n\n\tdrawPost(style, id, title, text, badge) {\n\t\tvar url = \"\"\n\t\tif (id) url = 'https://plurk.com/p/' + id.toString(36)\n\t\tthis.el.insertAdjacentHTML('beforeend', this.wrapper(style + \" drawpost\", '\\\n\t\t\t<div>\\\n\t\t\t\t<a href=\"' + url + '\" class=\"link\" target=\"_BLANK\">' + iconLink + '</a>\\\n\t\t\t\t<span class=\"big\">' + badge + '</span>\\\n\t\t\t\t<p class=\"post\">' + text + '</p>\\\n\t\t\t\t<span class=\"title\">' + title + '</span>\\\n\t\t\t</div>\\\n\t\t'))\n\t}\n\n\tasync drawUserList(style, id, title, users) {\n\t\tvar html = \"\"\n\t\tvar max = users.length >= 5 ? 5 : users.length\n\t\tvar length = reduceMotionFilter(1)\n\n\t\tthis.drawHTML(`${style} drawuserlist movetitle ${id}`, title, \"<span class='info'>Downloading user data</span>\")\n\t\tfor (var index = 0; index < max; index++) {\n\t\t\tlet user = users[index]\n\t\t\tlet friend = await this.friends.find(user.id)\n\t\t\tif (friend) {\n\t\t\t\tvar plurker = new element(user.id, friend, \"\", plurker => {\n\t\t\t\t\tplurker.avatar = new span()\n\t\t\t\t\t\t.class(\"avatar\")\n\t\t\t\t\t\t.html(`<img src=\"${this.friends.getAvatar(plurker.user.id)}\" />`)\n\t\t\t\t\tplurker.name = new span()\n\t\t\t\t\t\t.class(\"name\")\n\t\t\t\t\t\t.html(`${plurker.user.display_name}`)\n\t\t\t\t\tplurker.counts = new span()\n\t\t\t\t\t\t.class(\"count\")\n\t\t\t\t\t\t.html(`${user.count}`)\n\n\t\t\t\t\tplurker.el.appendChild(plurker.avatar.el)\n\t\t\t\t\tplurker.el.appendChild(plurker.name.el)\n\t\t\t\t\tplurker.el.appendChild(plurker.counts.el)\n\t\t\t\t\tplurker.el.setAttribute(\"href\", `https://plurk.com/${plurker.user.nick_name}`)\n\t\t\t\t})\n\t\t\t\tplurker.create()\n\t\t\t\thtml += plurker.el.outerHTML\n\t\t\t} else {\n\t\t\t\tmax++\n\t\t\t}\n\t\t}\n\t\tthis.el.querySelector(`.${id} .htmlcontent`).innerHTML = html\n\n\t\t// Stagger animation\n\t\tif (id == 'mostinteraction' || id == 'mvp') {\n\t\t\tscroll.push(tl => {\n\t\t\t\ttl.fromTo(this.el.querySelectorAll(\".\" + id + \" .plurkers\"), {\n\t\t\t\t\tscale: .3,\n\t\t\t\t\topacity: 0\n\t\t\t\t}, {\n\t\t\t\t\tscale: 1,\n\t\t\t\t\topacity: 1,\n\t\t\t\t\tease: \"elastic.out(1.2, 0.5)\",\n\t\t\t\t\tduration: length * 3 / 4,\n\t\t\t\t\tstagger: {\n\t\t\t\t\t\tamount: length / 3,\n\t\t\t\t\t\tfrom: \"end\"\n\t\t\t\t\t}\n\t\t\t\t}, 0)\n\n\t\t\t\treturn tl\n\t\t\t}, tl => {\n\t\t\t\treturn ScrollTrigger.create({\n\t\t\t\t\ttrigger: this.el.querySelector(\".\" + id),\n\t\t\t\t\tstart: \"50% 100%\",\n\t\t\t\t\tend: \"50% 100%\",\n\t\t\t\t\tanimation: tl,\n\t\t\t\t\ttoggleActions: \"play none none reverse\"\n\t\t\t\t})\n\t\t\t})\n\t\t} else {\n\t\t\tscroll.push(tl => {\n\t\t\t\ttl.fromTo(this.el.querySelectorAll(\".\" + id + \" .plurkers\"), {\n\t\t\t\t\ty: 50,\n\t\t\t\t\topacity: 0\n\t\t\t\t}, {\n\t\t\t\t\ty: 0,\n\t\t\t\t\topacity: 1,\n\t\t\t\t\tduration: length,\n\t\t\t\t\tease: \"power3.out\",\n\t\t\t\t\tstagger: length / 3\n\t\t\t\t}, 0)\n\n\t\t\t\treturn tl\n\t\t\t}, tl => {\n\t\t\t\treturn ScrollTrigger.create({\n\t\t\t\t\ttrigger: this.el.querySelector(\".\" + id),\n\t\t\t\t\tstart: \"0% 100%\",\n\t\t\t\t\tend: \"0% 100%\",\n\t\t\t\t\tanimation: tl,\n\t\t\t\t\ttoggleActions: \"play none none reverse\"\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t}\n\n\tattach(charttitle, node, max) {\n\t\tvar id = node.id\n\t\tvar chart\n\t\tvar title\n\t\tvar text\n\t\tvar anim\n\t\tvar wrapper\n\t\tvar capture\n\t\tvar opacity = 0\n\t\tvar position = max\n\t\tvar zIndex = 0\n\t\tvar hidden = true\n\n\t\tif (node.position <= max) {\n\t\t\thidden = false\n\t\t\tzIndex = position = (node.position - 1)\n\t\t\topacity = 1\n\t\t}\n\n\t\t// Create the box\n\t\tif (!this.next.querySelector(`.${id}`)) {\n\t\t\tchart = document.createElement('div')\n\t\t\tchart.setAttribute('class', 'chart')\n\n\t\t\ttitle = document.createElement('div')\n\t\t\ttitle.classList.add('title')\n\t\t\ttitle.innerHTML = charttitle\n\n\t\t\ttext = document.createElement('div')\n\t\t\ttext.classList.add('text')\n\t\t\ttext.appendChild(chart)\n\t\t\ttext.appendChild(title)\n\n\t\t\tanim = document.createElement('div')\n\t\t\tanim.classList.add('anim')\n\t\t\tanim.appendChild(text)\n\n\t\t\ttext = document.createElement('small')\n\t\t\ttext.innerHTML = \"Capture\"\n\n\t\t\tcapture = document.createElement('div')\n\t\t\tcapture.classList.add('capture')\n\t\t\tcapture.appendChild(text)\n\n\t\t\twrapper = document.createElement('div')\n\t\t\twrapper.classList.add(\"statistics\", \"middle\", \"statistics-wrap\", \"attach\", id)\n\t\t\twrapper.appendChild(anim)\n\t\t\twrapper.appendChild(capture)\n\n\t\t\tthis.el.insertAdjacentElement(\"beforeend\", wrapper)\n\t\t}\n\n\t\t// Add  element\n\t\tif (!hidden && !node.attached) {\n\t\t\tvar maxTop = max / (max - 1) * 100\n\n\t\t\tnode.insertTo(this.el.querySelector(`.${id} .chart`))\n\n\t\t\tgsap.set(node.el, {\n\t\t\t\ttop: maxTop + \"%\",\n\t\t\t\topacity: 0,\n\t\t\t\tzIndex: 0,\n\t\t\t})\n\t\t}\n\t\t// Update position\n\t\tif (!hidden || !node.hidden) {\n\t\t\tvar currentTop = position / (max - 1) * 100\n\t\t\tvar length = reduceMotionFilter(1)\n\n\t\t\tgsap.killTweensOf(node.el)\n\t\t\tgsap.to(node.el, {\n\t\t\t\ttop: currentTop + \"%\",\n\t\t\t\topacity: opacity,\n\t\t\t\tzIndex: zIndex,\n\t\t\t\tduration: length / 2,\n\t\t\t\tease: \"power3.out\",\n\t\t\t\tonComplete: function () {\n\t\t\t\t\tif (hidden) {\n\t\t\t\t\t\tnode.destroy()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\tnode.hidden = hidden\n\t\t}\n\n\t\tnode.update()\n\t}\n\n\tasync drawAll(plurks) {\n\t\tvar response_percentage = Math.round((this.plurks_count - this.noresponse_count) / this.plurks_count * 100)\n\n\t\tthis.most.responses.draw(plurks)\n\t\tthis.drawGraph('center graph percentage', response_percentage, 'Around <i>' + response_percentage + '%</i> of my plurks got <img src=\"https://api.iconify.design/fluent-emoji:left-speech-bubble.svg\" /> responses ' + ((response_percentage <= 50) ? '<img src=\"https://api.iconify.design/fluent-emoji:crying-face.svg\" />' : '<img src=\"https://api.iconify.design/fluent-emoji:star-struck.svg\" />'))\n\n\t\tthis.draw('spansmall recievereplurk', this.replurker_count, 'I received <i><img src=\"https://api.iconify.design/fluent-emoji:megaphone.svg\" /> ' + plural(this.replurker_count, 'replurk') + '</i>')\n\t\tthis.most.replurk.draw(plurks)\n\n\t\tthis.most.favorite.draw(plurks)\n\t\tthis.draw('spansmall recievelove', this.favourite_count, 'I recieved <i><img src=\"https://api.iconify.design/fluent-emoji:red-heart.svg\" /> ' + plural(this.favourite_count, 'love') + '</i>')\n\n\t\tthis.draw('spansmall privateplurk', this.private_count, 'I posted <i><img src=\"https://api.iconify.design/fluent-emoji:lip.svg\" /> ' + plural(this.private_count, 'private plurk') + '</i>')\n\t\tthis.draw('spansmall whisper', this.whispers_count, 'I posted <i><img src=\"https://api.iconify.design/fluent-emoji:face-in-clouds.svg\" /> ' + plural(this.whispers_count, 'whisper') + '</i>')\n\t\tthis.draw('spansmall porn', this.porn_count, 'I posted <i><img src=\"https://api.iconify.design/fluent-emoji:face-with-peeking-eye.svg\" /> ' + plural(this.porn_count, 'adult plurk') + '</i>')\n\n\t\tthis.draw('span2 responsecount', `${this.plurks_count} &rarr; ${this.response_count}`, 'I received <i><img src=\"https://api.iconify.design/fluent-emoji:left-speech-bubble.svg\" /> ' + plural(this.response_count, 'response') + '</i> from <i>' + plural(this.plurks_count, 'plurk') + '</i>')\n\t\tthis.draw('spansmall center coins', this.coins_count, 'I recieved <i><img src=\"https://api.iconify.design/fluent-emoji:coin.svg\" /> ' + plural(this.coins_count, 'coin') + '</i>')\n\n\t\tif (this.favorite_list.length > 0) this.drawUserList(\"avatar\", \"loved\", 'These Plurkers <i><img src=\"https://api.iconify.design/fluent-emoji:red-heart.svg\" /> Loved</i> My Posts', this.favorite_list.sort(this.most.sort))\n\t\tif (this.replurker_list.length > 0) this.drawUserList(\"avatar\", \"replurked\", 'These Plurkers likes to <i><img src=\"https://api.iconify.design/fluent-emoji:megaphone.svg\" /> Replurked</i> My Posts', this.replurker_list.sort(this.most.sort))\n\t}\n}\n\nexport default statistics","\"use strict\";\n\nimport { gsap } from 'gsap'\nimport { ScrollTrigger } from 'gsap/ScrollTrigger.js'\nimport api from \"../helpers/api.js\"\nimport scroll from \"../helpers/scroll.js\"\nimport animate from \"../helpers/animate.js\"\nimport { _q, _qAll, plural, monthNames, reduceMotionFilter } from '../helpers/helper.js'\n\nimport friends from \"./friends.js\"\nimport loading from './loading.js'\nimport scrolls from './scrolls.js'\nimport browser from './browser.js'\nimport statistics from \"./statistics.js\"\n\nclass replurk {\n\tconstructor(year) {\n\t\t// Draw in which element?\n\t\tthis.next = document.createElement('div');\n\t\t// Plurks array\n\t\tthis.plurks = [];\n\t\t// Plurker profile object\n\t\tthis.me = {}\n\t\t// Friends object\n\t\tthis.friends = new friends()\n\t\t// Statistics plurker object renderer\n\t\tthis.statistics = new statistics()\n\t\t// Loading object\n\t\tthis.loading = new loading()\n\t\t// Scrolling animation\n\t\tthis.scrolls = new scrolls(this.next)\n\n\t\t// Which year?\n\t\tthis.year = year;\n\t\tthis.startDate = this.year + '-10-29T09:00:00';\n\t\tthis.endDate = new Date((this.year - 1) + '-10-29T09:00:00');\n\t\tthis.days = 60 * 60 * 24 * 1000;\n\t\tthis.fulldays = 365;\n\t}\n\n\t// Show/hide Animations\n\t// Login Pages\n\tshowLoginPage(tl) {\n\t\tvar next = this.next;\n\t\tvar length = reduceMotionFilter(1);\n\n\t\tbrowser.set(\"green\", 1);\n\t\ttl.fromTo(next.querySelectorAll(\"#permission\"), {\n\t\t\tposition: \"fixed\",\n\t\t\tdisplay: \"\",\n\t\t\topacity: 0,\n\t\t\ttop: 0\n\t\t}, {\n\t\t\topacity: 1,\n\t\t\tduration: length,\n\t\t\tease: \"power3.in\"\n\t\t});\n\t\ttl.fromTo(next.querySelectorAll(\"#permission .bgtext *\"), {\n\t\t\tdisplay: \"\",\n\t\t\ty: 200,\n\t\t\topacity: 0,\n\t\t}, {\n\t\t\ty: 0,\n\t\t\topacity: 1,\n\t\t\tstagger: length / 5,\n\t\t\tduration: length,\n\t\t\tease: \"power3.out\",\n\t\t\tonComplete: () => {\n\t\t\t\tgsap.set(next.querySelectorAll(\"#permission\"), {\n\t\t\t\t\tposition: \"\",\n\t\t\t\t\ttop: \"\"\n\t\t\t\t});\n\t\t\t}\n\t\t}, \">-\" + (length / 2));\n\n\t\treturn tl;\n\t}\n\thideLoginPage(tl) {\n\t\tvar next = this.next;\n\t\tvar length = reduceMotionFilter(1);\n\n\t\ttl.set(next.querySelectorAll(\"#permission\"), {\n\t\t\tposition: \"fixed\",\n\t\t\ttop: 0,\n\t\t});\n\t\ttl.fromTo(next.querySelectorAll(\"#permission .bgtext *, #permission form\"), {\n\t\t\ty: 0,\n\t\t\topacity: 1,\n\t\t}, {\n\t\t\ty: 200,\n\t\t\topacity: 0,\n\t\t\tstagger: {\n\t\t\t\tfrom: \"end\",\n\t\t\t\tamount: length / 5\n\t\t\t},\n\t\t\tduration: length,\n\t\t\tease: \"power3.in\",\n\t\t\tonComplete: () => {\n\t\t\t\tbrowser.set(\"yellow\");\n\t\t\t}\n\t\t});\n\t\ttl.fromTo(next.querySelectorAll(\"#permission\"), {\n\t\t\topacity: 1\n\t\t}, {\n\t\t\topacity: 0,\n\t\t\tduration: length,\n\t\t\tease: \"power3.in\",\n\t\t\tonComplete: () => {\n\t\t\t\tgsap.set(next.querySelectorAll(\"#permission\"), {\n\t\t\t\t\tposition: \"\",\n\t\t\t\t\tdisplay: \"none\",\n\t\t\t\t\ttop: \"\"\n\t\t\t\t}, \">\");\n\t\t\t}\n\t\t}, \">-\" + (length / 4));\n\n\t\treturn tl;\n\t}\n\t// Statistic Pages\n\tshowStatisticPages() {\n\t\treturn new Promise(resolve => {\n\t\t\tvar next = this.next;\n\t\t\tvar length = reduceMotionFilter(1);\n\t\t\tvar tl = gsap.timeline();\n\n\t\t\ttl.fromTo(next.querySelectorAll(\"#hello\"), {\n\t\t\t\tdisplay: \"\",\n\t\t\t\topacity: 0\n\t\t\t}, {\n\t\t\t\topacity: 1,\n\t\t\t\tease: \"power3.in\",\n\t\t\t\tduration: length,\n\t\t\t\tonStart: () => browser.set(\"green\", .5)\n\t\t\t}, length / 4);\n\t\t\ttl.fromTo(next.querySelectorAll(\"#hello .bgtext > *\"), {\n\t\t\t\tdisplay: \"\",\n\t\t\t\topacity: 0,\n\t\t\t\ty: 200\n\t\t\t}, {\n\t\t\t\topacity: 1,\n\t\t\t\ty: 0,\n\t\t\t\tduration: length,\n\t\t\t\tstagger: length / 5,\n\t\t\t\tease: \"power3.out\"\n\t\t\t}, length / 2);\n\t\t\ttl.fromTo(next.querySelectorAll(\" #hello .thumbs, #hello .text > *, #hello .arrow-big\"), {\n\t\t\t\tdisplay: \"\",\n\t\t\t\topacity: 0,\n\t\t\t\ty: 200\n\t\t\t}, {\n\t\t\t\topacity: 1,\n\t\t\t\ty: 0,\n\t\t\t\tduration: length,\n\t\t\t\tstagger: length / 5,\n\t\t\t\tease: \"power3.out\"\n\t\t\t}, length / 2);\n\t\t\ttl.fromTo(next.querySelectorAll(\".grant:not(#hello), .statistics\"), {\n\t\t\t\tdisplay: \"\",\n\t\t\t\topacity: 0\n\t\t\t}, {\n\t\t\t\topacity: 1,\n\t\t\t\tduration: length / 2,\n\t\t\t\tonComplete: () => resolve()\n\t\t\t}, length / 2);\n\t\t});\n\t}\n\thideStatisticPages() {\n\t\treturn new Promise(async resolve => {\n\t\t\tvar next = this.next;\n\t\t\tvar length = reduceMotionFilter(1);\n\t\t\tvar tl = gsap.timeline();\n\n\t\t\tawait animate.top(next);\n\n\t\t\ttl.fromTo(next.querySelectorAll(\".footer > *, #hello .bgtext > *, #hello .thumbs, #hello .text > *, #hello .arrow-big\"), {\n\t\t\t\topacity: 1,\n\t\t\t\ty: 0\n\t\t\t}, {\n\t\t\t\topacity: 0,\n\t\t\t\ty: 200,\n\t\t\t\tduration: length,\n\t\t\t\tstagger: {\n\t\t\t\t\tfrom: \"end\",\n\t\t\t\t\tamount: length / 5\n\t\t\t\t},\n\t\t\t\tease: \"power3.in\"\n\t\t\t}, length / 5);\n\t\t\ttl.set(next.querySelectorAll(\".grant:not(#hello), .statistics\"), {\n\t\t\t\topacity: 0\n\t\t\t}, length / 2);\n\t\t\ttl.fromTo(next.querySelectorAll(\"#hello\"), {\n\t\t\t\topacity: 1\n\t\t\t}, {\n\t\t\t\topacity: 0,\n\t\t\t\tduration: length,\n\t\t\t\tease: \"power3.in\",\n\t\t\t\tonComplete: () => {\n\t\t\t\t\tgsap.set(next.querySelectorAll(\".grant\"), { display: \"none\" });\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t}, length / 2);\n\t\t});\n\t}\n\n\t// Access logic\n\t// Login messages\n\tmessage(message, quick) {\n\t\tvar next = this.next;\n\n\t\tvar loginmessage = next.querySelector(\"#login-message\");\n\n\t\tif (quick) {\n\t\t\tloginmessage.innerHTML = message;\n\t\t} else {\n\t\t\tgsap.to(loginmessage, {\n\t\t\t\topacity: 0,\n\t\t\t\tonComplete: function () {\n\t\t\t\t\tloginmessage.innerHTML = message;\n\t\t\t\t\tgsap.to(loginmessage, {\n\t\t\t\t\t\topacity: 1\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t// Check login status\n\tasync login(clear) {\n\t\tvar next = this.next;\n\n\t\tthis.me = { id: 0 }\n\t\tthis.plurks = [];\n\n\t\tscroll.destroy();\n\n\t\twindow.scrollTo(0, 0);\n\t\tbrowser.set(\"yellow\");\n\n\t\t// Scroll animation menu and logout\n\t\tthis.scrolls.menu();\n\n\t\t// Check is server have open session\n\t\tvar tl = gsap.timeline();\n\t\ttl.set(next.querySelector(\"#hello .arrow-big\"), {\n\t\t\topacity: 0\n\t\t});\n\n\t\tvar data = await api.call(\"?\");\n\t\tvar interval = null;\n\t\tif (data.success) {\n\t\t\tthis.me = data.message\n\t\t\tthis.friends = new friends()\n\t\t\tthis.statistics = new statistics(next, this.me, this.friends, this.year)\n\n\t\t\t// Initial Plurk statistics\n\t\t\tawait this.displayPlurkerData();\n\n\t\t\t// Display the rest of the statistics\n\t\t\tthis.displayStatistics();\n\n\t\t\t// Scroll top top\n\t\t\tawait animate.top(next);\n\n\t\t\t// Hide login page\n\t\t\tif (clear) next.querySelector(\"#permission\").style.display = \"none\";\n\t\t\telse tl = this.hideLoginPage(tl);\n\n\t\t\t// Show statistic pages\n\t\t\tawait this.showStatisticPages(tl);\n\n\t\t\t// Add logout event\n\t\t\tnext.querySelector(\"#logout\").onclick = () => this.logout();\n\n\t\t\t// Scroll animate statistics\n\t\t\tthis.scrolls.statistics();\n\t\t\t// Scroll browser bar\n\t\t\tthis.scrolls.browserBar();\n\t\t} else {\n\t\t\t// Hide statistic pages\n\t\t\tif (clear) next.querySelectorAll(\".grant\").forEach(function (el) { el.style.display = \"none\"; });\n\t\t\t// Show login page\n\t\t\tthis.showLoginPage(tl);\n\t\t\t// Request token\n\t\t\tthis.token();\n\n\t\t\t// Scroll animation permission section\n\t\t\tthis.scrolls.permisions();\n\t\t\t// Scroll browser bar\n\t\t\tthis.scrolls.browserBar(false);\n\n\t\t\t// Automatic login\n\t\t\tinterval = setInterval(async () => {\n\t\t\t\tvar data = await api.call(\"?\");\n\n\t\t\t\tif (data.success) {\n\t\t\t\t\tclearInterval(interval);\n\t\t\t\t\tthis.login();\n\t\t\t\t}\n\t\t\t}, 3000);\n\t\t}\n\n\t\tscroll.refresh();\n\n\t\t// Snap\n\t\tnext.querySelectorAll(\"section.snap\").forEach(el => scroll.snap(el));\n\t\tnext.querySelectorAll(\"section.snap-bottom\").forEach(el => scroll.snap(el, \"bottom\"));\n\t}\n\t// Logout\n\tasync logout() {\n\t\tvar tl = gsap.timeline();\n\n\t\tapi.abort();\n\n\t\t// Hide statistic pages\n\t\tawait this.hideStatisticPages(tl);\n\n\t\t// Logout\n\t\tawait api.call(\"?fetch=logout\");\n\t\tthis.statistics.clear();\n\n\t\t// Disconnect any api connection\n\t\tapi.clear();\n\n\t\t// Display login\n\t\tthis.login();\n\n\t\tscroll.refresh();\n\t}\n\t// Request token\n\tasync token(text) {\n\t\tvar next = this.next;\n\t\tvar length = reduceMotionFilter(1);\n\t\tvar tokenlink = next.querySelector(\"#tokenurl\");\n\t\ttokenlink.textContent = \"Connecting Plurk...\";\n\n\t\tvar tl = gsap.timeline();\n\t\ttl.fromTo(next.querySelectorAll(\"#permission form\"), {\n\t\t\tdisplay: \"\",\n\t\t\ty: 200,\n\t\t\topacity: 0,\n\t\t}, {\n\t\t\ty: 0,\n\t\t\topacity: 1,\n\t\t\tduration: length,\n\t\t\tease: \"power3.out\"\n\t\t}, length);\n\t\ttl.fromTo(next.querySelectorAll(\"#permission h1, #permission li\"), {\n\t\t\tdisplay: \"\",\n\t\t\ty: 50,\n\t\t\topacity: 0,\n\t\t}, {\n\t\t\ty: 0,\n\t\t\topacity: 1,\n\t\t\tstagger: length / 10,\n\t\t\tduration: length,\n\t\t\tease: \"power3.out\"\n\t\t}, length);\n\n\t\tapi.call(\"?request=token\").then(data => {\n\t\t\tif (text) {\n\t\t\t\tthis.message(text);\n\t\t\t} else {\n\t\t\t\ttokenlink.textContent = \"Grant Access\";\n\t\t\t\ttokenlink.setAttribute(\"href\", api.url + \"?redirect=\" + data.message.url);\n\t\t\t}\n\t\t}, () => {\n\t\t\tthis.message(\"Error when requesting verification from Plurk, please reload your browser again.\");\n\t\t});\n\n\t\tif (!text) next.querySelector(\"#permission form\").style.display = \"none\";\n\t}\n\t// Display LocalStorage stats\n\tinfo() {\n\t\tfunction getSessionStorageSize() {\n\t\t\tvar totalBytes = 0;\n\n\t\t\tfor (var key in sessionStorage) {\n\t\t\t\tif (sessionStorage.hasOwnProperty(key)) {\n\t\t\t\t\tvar itemValue = sessionStorage.getItem(key);\n\t\t\t\t\ttotalBytes += itemValue.length;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Convert bytes to Megabytes\n\t\t\tvar totalMegabytes = Math.round((totalBytes / 1024 / 1024) * 100) / 100;\n\n\t\t\treturn totalMegabytes;\n\t\t}\n\n\t\t// Usage\n\t\tvar sessionStorageSize = getSessionStorageSize();\n\t\tconsole.info('SessionStorage Size: ' + sessionStorageSize + ' MB');\n\t}\n\n\t// Rendering statistics\n\t// Display current Plurker data\n\tasync displayPlurkerData() {\n\t\tvar plurker = this.me;\n\t\tvar next = this.next;\n\t\tvar extra = \"\";\n\t\tvar length = reduceMotionFilter(1);\n\n\t\t// plurks_count\n\t\tvar days = (plurker.anniversary.years * 365) + plurker.anniversary.days;\n\t\tvar responses = Math.round(plurker.response_count / days);\n\n\t\tnext.querySelector(\"#hello .thumbs\").innerHTML = \"<img src='\" + plurker.avatar_big + \"' />\";\n\t\tif (this.year == 2021) next.querySelector(\"#hello .text\").innerHTML = \"<h1>Hello \" + plurker.display_name + \"</h1><p style='max-width: 500px; margin: 0 auto'>If \" + this.year + \" have been a rough year you, hopefully RePlurk will cheer you by bringing some good memories</p>\";\n\t\telse if (this.year == 2022) next.querySelector(\"#hello .text\").innerHTML = \"<h1>Hello \" + plurker.display_name + \"</h1><p style='max-width: 500px; margin: 0 auto'>It's 2020 v2, and this is your year end RePlurk recap. Hopefully it will bring lots of good memories.</p>\";\n\t\telse next.querySelector(\"#hello .text\").innerHTML = \"<h1>Hello \" + plurker.display_name + \"</h1><p style='max-width: 500px; margin: 0 auto'>This is your year end RePlurk recap. Hopefully it will bring lots of good memories.</p>\";\n\n\t\t// Draw statistic\n\t\tthis.statistics.title('All Time', 'alltime');\n\t\tif (plurker.anniversary.years && plurker.anniversary.days) {\n\t\t\tthis.statistics.draw('spansmall center posted', Math.round(plurker.plurks_count / days), 'I posted around <i><img src=\"https://api.iconify.design/fluent-emoji:left-speech-bubble.svg\" /> ' + plural(Math.round(plurker.plurks_count / days), \"plurk\") + \" per day</i>\");\n\n\t\t\t// Responses\n\t\t\tvar oneday = 16;\n\t\t\tif (responses <= oneday) extra = \"That's almost 1 response every <i>\" + plural(Math.round(oneday / responses), \"hour\") + '</i>';\n\t\t\telse extra = \"That's almost 1 response every <i>\" + plural(Math.round(oneday * 60 / responses), \"minute\") + '</i>';\n\t\t\tthis.statistics.draw('span2 center responded', responses, 'I responded around <i><img src=\"https://api.iconify.design/fluent-emoji:left-speech-bubble.svg\" /> ' + plural(responses, \"time\") + \"</i> per day. \" + extra + \" when I'm not sleeping\");\n\n\t\t\tvar join = new Date(plurker.join_date)\n\t\t\tthis.statistics.draw('spansmall center anniversary', \"<strong><i>\" + monthNames[join.getMonth()] + \"</i> <i>\" + join.getFullYear() + \"</i></strong> <em>\" + join.getDate() + \"</em>\", \"I joined Plurk <i>\" + plural(plurker.anniversary.years, \"year\") + \"</i> and <i>\" + plural(plurker.anniversary.days, \"day\") + \"</i> ago\");\n\t\t\tthis.statistics.draw('spansmall center badges', plurker.badges.length, \"I have <i><img src='https://api.iconify.design/fluent-emoji:shield.svg' /> \" + plural(plurker.badges.length, \"badge\") + \"</i> right now\");\n\t\t} else {\n\t\t\tthis.statistics.draw('', '-', \"There is no data in my timeline\");\n\t\t\tthis.statistics.draw('', plurker.badges.length, \"But at least I have <i>\" + plural(plurker.badges.length, \"badge\") + \"</i> right now\");\n\t\t}\n\n\t\t// Scroll animation hello section\n\t\tscroll.push(tl => {\n\t\t\ttl.fromTo(next.querySelectorAll(\"#hello .text, #hello .thumbs\"), {\n\t\t\t\ty: 0\n\t\t\t}, {\n\t\t\t\ty: window.innerHeight * -3 / 4,\n\t\t\t\tease: \"linear\",\n\t\t\t\tduration: length,\n\t\t\t}, 0);\n\t\t\ttl.fromTo(next.querySelectorAll(\"#hello .bgtext sup\"), {\n\t\t\t\ty: 0,\n\t\t\t\tx: 0,\n\t\t\t\trotation: 0\n\t\t\t}, {\n\t\t\t\ty: window.innerHeight * -1 / 4,\n\t\t\t\tx: window.innerHeight * -1 / 10,\n\t\t\t\trotation: -10,\n\t\t\t\tease: \"linear\",\n\t\t\t\tduration: length,\n\t\t\t}, 0);\n\t\t\ttl.fromTo(next.querySelectorAll(\"#hello .bgtext sub\"), {\n\t\t\t\ty: 0,\n\t\t\t\tx: 0,\n\t\t\t\trotation: 0\n\t\t\t}, {\n\t\t\t\ty: window.innerHeight * -1 / 4,\n\t\t\t\tx: window.innerHeight * 1 / 10,\n\t\t\t\trotation: 10,\n\t\t\t\tease: \"linear\",\n\t\t\t\tduration: length,\n\t\t\t}, 0);\n\t\t\ttl.fromTo(next.querySelectorAll(\"#hello .arrow-big\"), {\n\t\t\t\ty: 0,\n\t\t\t\topacity: 1\n\t\t\t}, {\n\t\t\t\ty: window.innerHeight * 1 / 4,\n\t\t\t\topacity: 0,\n\t\t\t\tease: \"linear\",\n\t\t\t\tduration: length / 4,\n\t\t\t}, 0);\n\t\t\treturn tl;\n\t\t}, tl => ScrollTrigger.create({\n\t\t\ttrigger: next.querySelectorAll(\"#hello\"),\n\t\t\tstart: \"0 0\",\n\t\t\tend: \"100% 0\",\n\t\t\tanimation: tl,\n\t\t\tscrub: true\n\t\t}));\n\n\t\tscroll.refresh();\n\t}\n\t// Display statistics\n\tasync displayStatistics() {\n\t\tthis.statistics.title('This Year', 'thisyear');\n\t\tthis.statistics.draw(\"statistics-loading thisyearloading\", \"\", \"<i class='month'>Data from December</i>1 of 2. Loading \" + this.year + \" timeline. It can take up to 1 minute.\");\n\n\t\tthis.loading = new loading(this.next);\n\t\tthis.loading.loop(this.fulldays);\n\n\t\t// Load loop timeline\n\t\tvar getTimeline = async (offset) => {\n\t\t\toffset = (!offset) ? \"\" : \"&offset=\" + offset;\n\n\t\t\tvar data = await api.call(\"?fetch=plurk&filter=my\" + offset, 1);\n\t\t\tif (data.success) {\n\t\t\t\tthis.friends.add(data.message.plurk_users);\n\t\t\t\tthis.plurks = this.plurks.concat(data.message.plurks);\n\n\t\t\t\tif (data.message.plurks.length > 0) {\n\t\t\t\t\tvar lastposted = new Date(this.plurks[this.plurks.length - 1].posted);\n\n\t\t\t\t\tif (lastposted >= this.endDate) {\n\t\t\t\t\t\tthis.loading.update(\"Data from \" + monthNames[lastposted.getMonth()] + \" \" + lastposted.getFullYear(), this.fulldays - Math.floor((lastposted - this.endDate) / this.days));\n\n\t\t\t\t\t\t// Load next plurks\n\t\t\t\t\t\tawait getTimeline(data.message.offset);\n\t\t\t\t\t} else {\n\t\t\t\t\t\twhile (lastposted < this.endDate && this.plurks.length > 1) {\n\t\t\t\t\t\t\tthis.plurks.pop();\n\t\t\t\t\t\t\tlastposted = new Date(this.plurks[this.plurks.length - 1].posted);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tawait this.loading.forcedone();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tawait this.loading.forcedone();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.logout();\n\t\t\t}\n\t\t}\n\t\tawait getTimeline(this.startDate);\n\n\t\t// When loading done\n\t\tvar largest_poll_result = 0;\n\t\tif (this.plurks.length > 1) {\n\t\t\t// Count user statistics\n\t\t\tthis.statistics.plurks_count = 0;\n\t\t\tthis.plurks.forEach(plurk => {\n\t\t\t\t// Calculate the statistics\n\t\t\t\tif (plurk.responded) this.statistics.responded_count++;\n\t\t\t\tif (plurk.owner_id == this.me.id) {\n\t\t\t\t\tthis.statistics.plurks_count++;\n\t\t\t\t\tthis.statistics.replurker_count += plurk.replurkers.length;\n\t\t\t\t\tthis.statistics.replurker_list = this.statistics.listCount(this.statistics.replurker_list, plurk.replurkers);\n\t\t\t\t\tthis.statistics.favourite_count += plurk.favorers.length;\n\t\t\t\t\tthis.statistics.favorite_list = this.statistics.listCount(this.statistics.favorite_list, plurk.favorers);\n\t\t\t\t\tif (plurk.anonymous) this.statistics.whispers_count++;\n\t\t\t\t\tif (plurk.coins) this.statistics.coins_count += plurk.coins;\n\t\t\t\t\tif (plurk.porn) this.statistics.porn_count++;\n\t\t\t\t\tif (!plurk.response_count) this.statistics.noresponse_count++;\n\t\t\t\t\tif (plurk.plurk_type == 3) this.statistics.private_count++;\n\t\t\t\t\tthis.statistics.response_count += plurk.response_count;\n\n\t\t\t\t\tif (plurk.content_raw.includes(\"instagram.com\")) this.statistics.instagrammer_count++;\n\t\t\t\t\tif (plurk.content_raw.includes(\"facebook.com\")) this.statistics.facebooker_count++;\n\t\t\t\t\telse if (plurk.content_raw.includes(\"fb.watch\")) this.statistics.facebooker_count++;\n\t\t\t\t\tif (plurk.content_raw.includes(\"twitter.com\")) this.statistics.twitterer_count++;\n\t\t\t\t\tif (plurk.content_raw.includes(\"reddit.com\")) this.statistics.redditor_count++;\n\t\t\t\t\tif (plurk.content_raw.includes(\"tiktok.com\")) this.statistics.tiktoker_count++;\n\t\t\t\t\tif (plurk.content_raw.includes(\"imgur.com\")) this.statistics.imgurer_count++;\n\t\t\t\t\tif (plurk.content_raw.includes(\"youtube.com\")) this.statistics.youtuber_count++;\n\n\t\t\t\t\t// Calculate polls\n\t\t\t\t\tif (plurk.with_poll) {\n\t\t\t\t\t\tvar response_count = plurk.poll.response.response_count;\n\t\t\t\t\t\tthis.statistics.poll_count++;\n\t\t\t\t\t\tthis.statistics.poll_responder_count += response_count;\n\n\t\t\t\t\t\tif (largest_poll_result < response_count) {\n\t\t\t\t\t\t\tlargest_poll_result = response_count;\n\t\t\t\t\t\t\tthis.statistics.poll_popular_plurk = plurk;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (plurk.responded) this.statistics.responded_other_count++;\n\t\t\t});\n\n\t\t\t// Sort based on date\n\t\t\tthis.plurks.sort((a, b) => new Date(b.posted) - new Date(a.posted));\n\n\t\t\t// Draw statistics\n\t\t\ttry {\n\t\t\t\tawait this.statistics.drawAll(this.plurks);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.info(\"Error while counting statistics\", error);\n\t\t\t}\n\n\t\t\t// Display extended statistics\n\t\t\tthis.displayExtendedStatistics();\n\t\t} else {\n\t\t\tif (this.plurks[0]) {\n\t\t\t\tvar date = new Date(plurk[0].posted);\n\t\t\t\tthis.statistics.inactive.draw(plurk[0], date.getFullYear());\n\t\t\t}\n\t\t\telse this.statistics.inactive.empty();\n\t\t}\n\n\t\tscroll.refresh();\n\t}\n\t// Display extended statistics\n\tasync displayExtendedStatistics() {\n\t\t// Deeper user statistics\n\t\tthis.statistics.title('Dig Deeper', 'digdeeper');\n\t\tthis.statistics.draw(\"statistics-loading digdeeperloading\", \"\", \"<i class='month'>Data from \" + this.year + \"</i> 2 of 2. Loading all responses. <small>If the loading seems to stop, refresh your browser tab to resume your download. Closing your browser tab will clear all downloaded data.</small>\");\n\n\t\t// Load each post responses and calculate statistics\n\t\tthis.loading = new loading(this.next);\n\t\tthis.loading.loop(this.plurks.length);\n\n\t\t// Get the responses for each plurks in parallel\n\t\tthis.plurks.sort((a, b) => new Date(a.posted) < new Date(b.posted));\n\t\tfor (var plurk of this.plurks) {\n\t\t\tvar date = new Date(plurk.posted);\n\t\t\tthis.loading.update(\"Data from \" + monthNames[date.getMonth()] + \" \" + date.getFullYear());\n\n\t\t\t// Count all\n\t\t\tawait this.statistics.most.countAll(plurk);\n\n\t\t\t// Count responses\n\t\t\tif (plurk.response_count > 0 && (plurk.responded || plurk.owner_id == this.me.id)) {\n\t\t\t\tvar result = await api.call(\"?fetch=response&plurk_ids=\" + plurk.plurk_id);\n\t\t\t\tif (result.success) for (var message of result.message) {\n\t\t\t\t\t// Add friends from response lists\n\t\t\t\t\tthis.friends.add(message.friends);\n\n\t\t\t\t\t// Count the rest of statistics\n\t\t\t\t\tfor (var response of message.responses) {\n\t\t\t\t\t\t// Find and count all responders\n\t\t\t\t\t\tawait this.statistics.most.responders.count(response);\n\t\t\t\t\t\tthis.statistics.most.interaction.count(response);\n\t\t\t\t\t\tthis.statistics.most.mvp.count(response, \"response\");\n\t\t\t\t\t\t// Count all\n\t\t\t\t\t\tawait this.statistics.most.countAll(response);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.logout();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Display How Many Links\n\t\tthis.statistics.most.links.drawLinks();\n\t\t// Display How Many Pictures\n\t\tthis.statistics.most.links.drawPics();\n\n\t\t// Draw Results\n\t\t// Display Most Responder\n\t\t// this.statistics.most.responders.draw();\n\n\t\t// Display Most Interaction\n\t\tthis.statistics.most.interaction.draw();\n\n\t\t// Display Most Mentioned by me\n\t\t// this.statistics.most.mentions.draw();\n\n\t\t// Display How Many Words-Characters\n\t\tthis.statistics.most.types.draw();\n\n\t\t// Display Most hashtags by me\n\t\tthis.statistics.most.hashtags.draw();\n\n\t\t// Display Most My Emoticons\n\t\tthis.statistics.most.myemoticons.draw();\n\n\t\t// Display MVP\n\t\tthis.statistics.replurker_list.forEach(value => {\n\t\t\tthis.statistics.most.mvp.count({ user_id: value.id, count: value.count }, \"replurk\");\n\t\t});\n\t\tthis.statistics.favorite_list.forEach(value => {\n\t\t\tthis.statistics.most.mvp.count({ user_id: value.id, count: value.count }, \"favorite\");\n\t\t});\n\t\tthis.statistics.most.mvp.draw();\n\n\t\t// Replurk Badges\n\t\tvar gender = \"<img src='https://api.iconify.design/fluent-emoji:crown.svg' /> Leader\";\n\t\tif (this.me.gender == 1) gender = \"<img src='https://api.iconify.design/fluent-emoji:crown.svg' /> King\";\n\t\tif (this.me.gender == 0) gender = \"<img src='https://api.iconify.design/fluent-emoji:crown.svg' /> Queen\";\n\n\t\tvar tiktok = \"<img src='https://api.iconify.design/fluent-emoji:mirror-ball.svg' />\";\n\t\tif (this.me.gender == 1) tiktok = \"<img src='https://api.iconify.design/fluent-emoji:man-dancing-medium-dark-skin-tone.svg' />\";\n\t\tif (this.me.gender == 0) tiktok = \"<img src='https://api.iconify.design/fluent-emoji:woman-dancing-medium-dark-skin-tone.svg' />\";\n\n\t\tvar facebook = \"<img src='https://api.iconify.design/fluent-emoji:older-person.svg' />\";\n\t\tif (this.me.gender == 1) facebook = \"<img src='https://api.iconify.design/fluent-emoji:old-man.svg' />\";\n\t\tif (this.me.gender == 0) facebook = \"<img src='https://api.iconify.design/fluent-emoji:old-woman.svg' />\";\n\n\t\tvar plurker = \"<img src='https://api.iconify.design/fluent-emoji:person-bowing.svg' />\";\n\t\tif (this.me.gender == 1) plurker = \"<img src='https://api.iconify.design/fluent-emoji:man-bowing.svg' />\";\n\t\tif (this.me.gender == 0) plurker = \"<img src='https://api.iconify.design/fluent-emoji:woman-bowing.svg' />\";\n\n\t\tthis.statistics.title('RePlurk Badges', 'replurkbadges');\n\t\tthis.statistics.body(`\\\n\t\t\t<h4>What are RePlurk Badges consist of?</h4>\\\n\t\t\t<p>They are badges based on your activities in Plurk. Currently there are 16 badges in total, for activities such as:</p>\\\n\t\t\t<ol>\\\n\t\t\t\t<li>Creating lots of polls (Polling ${gender})</li>\\\n\t\t\t\t<li>Receiving lots of coins (Plurk Coins Billionaire)</li>\\\n\t\t\t\t<li>Writing lots of posts (Novelist and Keyboard Warrior)</li>\\\n\t\t\t\t<li>Sharing lots of pictures and links (Meme Lord & Missing Link)</li>\\\n\t\t\t\t<li>Sharing social medias urls (there are 7 badges)</li>\\\n\t\t\t\t<li>Posting lots of adult posts (Adult-er)</li>\\\n\t\t\t\t<li>Getting lots of replurks (Trendsetter)</li>\\\n\t\t\t\t<li>and, Constantly posting in Plurk almost everyday (Active Plurker)</li>\\\n\t\t\t</ol>\\\n\t\t\t`, `replurkbadges description`);\n\t\tif (this.statistics.poll_count >= 5) this.statistics.draw('spansmall spanhalf center badges pollbadges', \"<img src='https://api.iconify.design/fluent-emoji:ballot-box-with-ballot.svg' />\", \"<strong>Polling \" + gender + \"</strong>\");\n\t\tif (this.statistics.coins_count >= 5) this.statistics.draw('spansmall spanhalf center badges coinbadges', \"<img src='https://api.iconify.design/fluent-emoji:coin.svg' />\", \"<strong>Plurk Coins Billionaire</strong>\");\n\t\tif (this.statistics.most.types.words >= 50000) this.statistics.draw('spansmall spanhalf center badges novelistbadges', \"<img src='https://api.iconify.design/fluent-emoji:orange-book.svg' />\", \"<strong>Novelist</strong>\");\n\t\tif (this.statistics.most.types.chars >= 1000000) this.statistics.draw('spansmall spanhalf center badges keyboardbadges', \"<img src='https://api.iconify.design/fluent-emoji:keyboard.svg' />\", \"<strong>Keyboard Warrior</strong>\");\n\t\tif (this.statistics.most.links.pics.length >= 356) this.statistics.draw('spansmall spanhalf center badges memebadges', \"<img src='https://api.iconify.design/fluent-emoji:cat.svg' />\", \"<strong>Meme Lord</strong>\");\n\t\tif (this.statistics.most.links.links.length >= 356 / 2) this.statistics.draw('spansmall spanhalf center badges missingbadges', \"<img src='https://api.iconify.design/fluent-emoji:orangutan.svg' />\", \"<strong>The Missing Link</strong>\");\n\t\tif (this.statistics.instagrammer_count >= 10) this.statistics.draw('spansmall spanhalf center badges socmedbadges', \"<img src='https://api.iconify.design/fluent-emoji:camera.svg' />\", \"<strong>Instagrammer</strong>\");\n\t\tif (this.statistics.facebooker_count >= 10) this.statistics.draw('spansmall spanhalf center badges socmedbadges', facebook, \"<strong>Facebooker</strong>\");\n\t\tif (this.statistics.twitterer_count >= 10) this.statistics.draw('spansmall spanhalf center badges socmedbadges', \"<img src='https://api.iconify.design/fluent-emoji:hatching-chick.svg' />\", \"<strong>The Real Chief Twit</strong>\");\n\t\tif (this.statistics.redditor_count >= 10) this.statistics.draw('spansmall spanhalf center badges socmedbadges', \"<img src='https://api.iconify.design/fluent-emoji:robot.svg' />\", \"<strong>/r</strong>\");\n\t\tif (this.statistics.tiktoker_count >= 10) this.statistics.draw('spansmall spanhalf center badges socmedbadges', tiktok, \"<strong>Tiktoker</strong>\");\n\t\tif (this.statistics.imgurer_count >= 10) this.statistics.draw('spansmall spanhalf center badges socmedbadges', \"<img src='https://api.iconify.design/fluent-emoji:framed-picture.svg' />\", \"<strong>Imgur-er</strong>\");\n\t\tif (this.statistics.youtuber_count >= 10) this.statistics.draw('spansmall spanhalf center badges socmedbadges', \"<img src='https://api.iconify.design/fluent-emoji:movie-camera.svg' />\", \"<strong>Youtuber <img src='https://api.iconify.design/fluent-emoji:sleepy-face.svg' /></strong>\");\n\t\tif (this.statistics.porn_count >= 10) this.statistics.draw('spansmall spanhalf center badges adultbadges', \"<img src='https://api.iconify.design/fluent-emoji:face-with-peeking-eye.svg' />\", \"<strong>Adult-er</strong>\");\n\t\tif (this.statistics.replurker_count >= 50) this.statistics.draw('spansmall spanhalf center badges plurkerbadges', \"<img src='https://api.iconify.design/fluent-emoji:trophy.svg' />\", \"<strong>Trendsetter</strong>\");\n\t\tif (this.statistics.plurks_count >= 356 * 1.5) this.statistics.draw('spansmall spanhalf center badges plurkerbadges', \"<img src='https://api.iconify.design/fluent-emoji:military-medal.svg' />\", \"<strong>Active Plurker \" + plurker + \"</strong>\");\n\n\t\tthis.info();\n\n\t\tscroll.refresh();\n\t}\n\n\t// Main entry\n\t// Run this to start the API\n\trun(el) {\n\t\treturn new Promise(resolve => {\n\t\t\tvar length = reduceMotionFilter(1);\n\t\t\tthis.next = el;\n\t\t\tbrowser.set(\"yellow\");\n\n\t\t\t// Run the login\n\t\t\tgsap.fromTo(this.next.querySelectorAll('#credits'), {\n\t\t\t\topacity: 0\n\t\t\t}, {\n\t\t\t\topacity: 1,\n\t\t\t\tduration: length,\n\t\t\t\tease: \"power3.in\",\n\t\t\t\tonComplete: async () => {\n\t\t\t\t\t// Change color\n\t\t\t\t\tbrowser.set(\"yellow\", 0);\n\n\t\t\t\t\t// Display login\n\t\t\t\t\tawait this.login(true);\n\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\n\nexport default replurk;"],"names":["constructor","this","data","unavailable","add","new_friends","Object","assign","find","user_id","findIndex","el","result","api","call","success","temp","message","user_info","id","push","findByUsername","nick_name","index","toLowerCase","getAvatar","has_profile_image","avatar","getAvatarByUsername","user_name","next","count","prev_count","counts","clean","parent","isComplete","draw","item","Promise","resolve","length","querySelector","statistics","year","load","progress","gsap","to","Math","round","snap","ease","duration","onUpdate","innerHTML","onComplete","async","done","loop","update","month","value","fakeupdate","forcedone","opacity","width","height","padding","margin","overflow","remove","refresh","get","state","darkmode","browserColorDark","browserColorLight","set","setDarkMode","credits","tl","fromTo","querySelectorAll","y","window","innerHeight","stagger","from","amount","ScrollTrigger","create","trigger","start","end","animation","scrub","permisions","x","rotation","menu","el1","el2","direction","killTweensOf","browserBar","login","onLeave","onEnterBack","onEnter","document","createElement","classname","classList","html","text","textContent","oldcolor","randomcolors","allColorArrays","arrayIndex","floor","Date","now","colors","getRandomColor","color","utils","shuffle","slice","pop","avatarurl","customcreate","user","attached","hidden","position","created","class","setAttribute","name","display_name","appendChild","insertTo","element","insertAdjacentElement","destroy","me","friends","responders","response","sort","i","attach","drawImage","mentions","dataAll","content","findregex","replace","idx","undefined","plurker","myemoticons","drawHTML","hashtags","links","pics","replurk","loved","match","includes","pic","split","url","link","drawLinks","max","toString","drawDiv","drawPics","types","words","chars","responses","a","b","response_count","posts","post","owner_id","plurk_type","drawPost","plurk_id","posted","replurkers_count","favorite","favorite_count","interaction","multiplier","content_raw","drawUserList","console","info","mvp","type","error","regex","storage","countAll","datediff","empty","whispers_count","poll_count","poll_responder_count","coins_count","porn_count","noresponse_count","private_count","replurker_count","replurker_list","favourite_count","favorite_list","responded_count","responded_other_count","responded_other_list","plurks_count","most","inactive","MutationObserver","mutationsList","forEach","mutation","addedNodes","log","afterDraw","observe","attributes","childList","subtree","clear","listCount","list","collection","title","style","loading","span","insertAdjacentHTML","body","anim","background","screen","matchMedia","children","markers","number","Number","toggleActions","getAttribute","capture","onclick","generating","cursor","canvas","html2canvas","backgroundColor","logging","proxy","useCORS","display","download","href","toDataURL","click","removeChild","setTimeout","wrapper","drawGraph","image","badge","drawLink","users","friend","outerHTML","scale","charttitle","node","chart","zIndex","maxTop","top","currentTop","drawAll","plurks","response_percentage","scrolls","startDate","endDate","days","fulldays","showLoginPage","hideLoginPage","showStatisticPages","timeline","onStart","hideStatisticPages","animate","quick","loginmessage","scrollTo","interval","displayPlurkerData","displayStatistics","logout","token","setInterval","clearInterval","abort","tokenlink","then","sessionStorageSize","totalBytes","key","sessionStorage","hasOwnProperty","getItem","getSessionStorageSize","extra","anniversary","years","avatar_big","oneday","join","join_date","getMonth","getFullYear","getDate","badges","getTimeline","offset","plurk_users","concat","lastposted","largest_poll_result","plurk","responded","replurkers","favorers","anonymous","coins","porn","instagrammer_count","facebooker_count","twitterer_count","redditor_count","tiktoker_count","imgurer_count","youtuber_count","with_poll","poll","poll_popular_plurk","displayExtendedStatistics","date","gender","tiktok","facebook","run"],"sourceRoot":""}