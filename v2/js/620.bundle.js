"use strict";(self.webpackChunkdwaan=self.webpackChunkdwaan||[]).push([[620],{620:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});var i=s(880),a=s(575),r=s(571),n=s(182),o=s(440),l=s(976),c=s(354),d=s(99),h='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve"><path id="right" d="M19.188,12.001c0,1.1-0.891,2.015-1.988,2.015l-4.195-0.015C13.543,15.089,13.968,16,15.002,16h3C19.658,16,21,13.657,21,12s-1.342-4-2.998-4h-3c-1.034,0-1.459,0.911-1.998,1.999l4.195-0.015C18.297,9.984,19.188,10.901,19.188,12.001z"/><path id="center" d="M8,12c0,0.535,0.42,1,0.938,1h6.109c0.518,0,0.938-0.465,0.938-1c0-0.534-0.42-1-0.938-1H8.938C8.42,11,8,11.466,8,12z"/><path id="left" d="M4.816,11.999c0-1.1,0.891-2.015,1.988-2.015L11,9.999C10.461,8.911,10.036,8,9.002,8h-3c-1.656,0-2.998,2.343-2.998,4s1.342,4,2.998,4h3c1.034,0,1.459-0.911,1.998-1.999l-4.195,0.015C5.707,14.016,4.816,13.099,4.816,11.999z"/></svg>',u=class{constructor(t,e){this.el=document.createElement("span"),this.el.setAttribute("class",t),this.el.innerHTML=e}update(t){animateNumber(this.el.textContent,t,(t=>{this.el.textContent=t}))}updateHTML(t){this.el.innerHTML=t}};class p{constructor(t,e,s,i){this.id=t,this.user=e,this.user_id=e.id,this.value=e.nick_name,this.nick_name=e.nick_name,this.attached=!1,this.hidden=!0,this.count=1,this.position=0,this.customcreate=i,this.el=document.createElement("a"),this.created=!1,this.avatarurl=s,this.counts=new u("count",this.count)}create(){this.created=!0,this.el.setAttribute("id",this.id+this.user_id),this.el.setAttribute("class","plurkers"),this.el.setAttribute("href","https://plurk.com/"+this.user.nick_name),this.el.setAttribute("target","_BLANK"),this.customcreate?this.customcreate(this):(this.avatar=new u("avatar",'<img src="'+this.avatarurl+'" />'),this.name=new u("name",this.user.display_name),this.counts=new u("count",this.count),this.el.appendChild(this.avatar.el),this.el.appendChild(this.name.el),this.el.appendChild(this.counts.el))}insertTo(t){this.created||this.create(),this.attached=!0,t.insertAdjacentElement("beforeend",this.el)}destroy(){return this.attached=!1,!!this.el&&(this.el.remove(),!0)}update(){this.attached&&this.counts.update(this.count)}}var g=class{next=document.createElement("div");plurks=[];me={id:3203568,has_profile_image:1,timeline_privacy:0,nick_name:"dwan",display_name:"Dwan",date_of_birth:"Sat, 29 Oct 1983 00:01:00 GMT",avatar:41917598,gender:1,karma:199.24,premium:!0,verified_account:!1,dateformat:3,default_lang:"en",friend_list_privacy:"public",name_color:"FFA59A",full_name:"Dwan B.",location:"Tel Aviv-Yafo, Dan, Israel",timezone:"Asia/Jerusalem",phone_verified:0,bday_privacy:1,plurks_count:14598,response_count:79484,pinned_plurk_id:0,background_id:0,show_ads:!1,show_location:0,profile_views:36112,avatar_small:"https://avatars.plurk.com/3203568-small41917598.gif",avatar_medium:"https://avatars.plurk.com/3203568-medium41917598.gif",avatar_big:"https://avatars.plurk.com/3203568-big41917598.jpg",about:"Mr. Goat’s dad and full-time husband",about_renderred:"Mr. Goat’s dad and full-time husband",page_title:"The world revolve around me",recruited:14,relationship:"married",friends_count:571,fans_count:498,join_date:"Wed, 15 Oct 2008 07:48:05 GMT",privacy:"world",accept_private_plurk_from:"all",post_anonymous_plurk:!1,badges:["10_invites","14","9","10000_views","10000_plurks","50000_comments","upload_profile_image","50_fans","coin"],link_facebook:!1,setup_facebook_sync:!1,setup_twitter_sync:!1,setup_weibo_sync:!1,filter:{porn:2,anonymous:0,keywords:null},anniversary:{years:13,days:27},phone_number:null,creature:0,creature_url:null,creature_special:1,creature_special_url:null};friends={data:{},unavailable:[],parent:this,init:function(){this.data={}},add:function(t){Object.assign(this.data,t)},find:async function(t){if(this.unavailable.findIndex((e=>e==t))>=0)return!1;if(this.data&&this.data[t])return this.data[t];var e=await r.A.call("?fetch=APP&url=/Profile/getPublicProfile&user_id="+t);if(e.success){var s={};return s[e.message.user_info.id]=e.message.user_info,this.add(s),e.message.user_info}return this.unavailable.push(t),!1},findByUsername:async function(t){var e=!1;if(this.unavailable.findIndex((e=>e==t))>=0)return!1;for(var s in this.data)if(this.data[s].nick_name.toLowerCase()==t.toLowerCase()){e=s;break}if(e)return this.data[e];var i=await r.A.call("?fetch=APP&url=/Profile/getPublicProfile&nick_name="+t);if(i.success){var a={};return a[i.message.user_info.id]=i.message.user_info,this.add(a),i.message.user_info}return this.unavailable.push(t),!1},getAvatar:function(t){if(t&&this.data&&this.data[t]&&this.data[t].has_profile_image){var e="";return this.data[t].avatar&&(e=this.data[t].avatar),"https://avatars.plurk.com/"+t+"-big"+e+".jpg"}return"https://plurk.com/static/default_big.jpg"},getAvatarByUsername:function(t){var e=!1;if(t)for(var s in this.data)if(this.data[s].nick_name.toLowerCase()==t.toLowerCase()){e=s;break}return this.getAvatar(e)}};statistics={whispers_count:0,coins_count:0,porn_count:0,noresponse_count:0,private_count:0,replurker_count:0,replurker_list:[],favourite_count:0,favorite_list:[],response_count:0,responded_count:0,responded_other_count:0,responded_other_list:[],plurks_count:0,poll_count:0,poll_responder_count:0,poll_popular_plurk:{},redditor_count:0,tiktoker_count:0,instagrammer_count:0,imgurer_count:0,facebooker_count:0,twitterer_count:0,youtuber_count:0,id:0,next:document.createElement("div"),el:document.createElement("div"),randomcolors:[],parent:this,init:function(t){this.whispers_count=0,this.coins_count=0,this.porn_count=0,this.noresponse_count=0,this.private_count=0,this.replurker_count=0,this.replurker_list=[],this.favourite_count=0,this.favorite_list=[],this.response_count=0,this.responded_count=0,this.responded_other_count=0,this.responded_other_list=[],this.plurks_count=0,this.id=0,this.next=t,this.randomcolors=[],this.el=this.next.querySelector("#statistics"),new MutationObserver((t=>{t.forEach((t=>{t.addedNodes.forEach((t=>{this.afterDraw(t)}))}))})).observe(this.el,{attributes:!0,childList:!0,subtree:!1})},clear:function(){this.el.innerHTML=""},listCount:function(t,e){return e.length>0&&e.forEach((e=>{var s=t.findIndex((t=>t.id==e));s<0?t.push({id:e,count:1}):t[s].count++})),t},title:function(t,e="",s=!1){s?this.el.insertAdjacentHTML("beforeend",'<div class="statistics middle statistics-title '+e+'"><h3><span>'+t+'</span><span class="loading"><i/></span></h3></div>'):this.el.insertAdjacentHTML("beforeend",'<div class="statistics middle statistics-title '+e+'"><h3><span>'+t+'</span><span class="line"><i/></span></h3></div>')},afterDraw:function(t){var e=(0,d.DO)(1);if((0,d.nB)(t,"statistics-wrap")){var s=new colors,r=[s.getRandomColor(),s.getRandomColor()],o=t.querySelector(".anim");i.os.set(o,{background:"radial-gradient(at 10% 10%, "+r[0]+" 0%, "+r[1]+" 100%)"}),i.os.to(o,{opacity:1,duration:e/2,ease:"power3.out"},0);var l=i.os.matchMedia();l.add("(min-aspect-ratio: 1/1)",(()=>{n.A.push((e=>(e.fromTo(t.children,{y:1*window.innerHeight/5},{y:0,ease:"ease.out"},0),e)),(e=>a.u.create({trigger:t,start:"0 100%-=100px",end:"0 100%-=100px",animation:e,scrub:2})))})),l.add("(max-aspect-ratio: 1/1)",(()=>{n.A.push((e=>(e.fromTo(t.children,{y:0},{y:0},0),e)),(e=>a.u.create({trigger:t,start:"0 100%-=100px",end:"100px 100%-=100px",animation:e,scrub:1})))})),n.A.push((function(e){if(t.querySelector(".big")){var s=Number(t.querySelector(".big").textContent);if(s>0){var i={progress:0},a=1;s>=500&&s<1e3?a=2:s>=1e3&&s<99999?a=3:s>=99999&&(a=4),e.to(i,{progress:s,snap:"progress",ease:"power3.out",duration:a,onUpdate:()=>{t.querySelector(".big").textContent=(0,d.LS)(i.progress)}},0)}}return e}),(e=>a.u.create({trigger:t,start:"0 100%-=100px",end:"100px 100%-=100px",animation:e,toggleActions:"play none none none"})))}else n.A.push((e=>(e.fromTo(t.querySelectorAll("i"),{x:"-100%"},{x:"0%",ease:"ease.out"},0),e)),(e=>a.u.create({trigger:t,start:"100% 100%",end:"100% 0",animation:e,scrub:1})));(0,d.nB)(t,"drawgraph")&&n.A.push((e=>(e.fromTo(t.querySelector(".graph"),{y:100},{y:0},0),e.fromTo(t.querySelector(".graph i"),{height:"0%"},{height:t.querySelector(".graph i").getAttribute("data-number")+"%"},0),e)),(e=>a.u.create({trigger:t,start:"50% 100%",end:"100% 100%",animation:e,scrub:1}))),(0,d.nB)(t,"coins")&&n.A.push((e=>(e.fromTo(t.querySelector(".big"),{y:"50%"},{y:0,ease:"power3.out"},0),e)),(e=>a.u.create({trigger:t,start:"50% 100%",end:"100% 100%",animation:e,scrub:2}))),this.capture(t),n.A.refresh()},capture:t=>{var e=t.querySelector(".capture small");e&&(e.onclick=async()=>{if(!e.generating){var s=t.querySelectorAll("img");e.generating=!0,document.body.style.cursor="wait",s.forEach((t=>{t.getAttribute("src").includes("http")&&!t.localUrl&&(t.localUrl=!0,t.setAttribute("src",r.A.url+"?img="+t.getAttribute("src")))})),await(0,d.SD)(s,((t,s)=>{e.innerHTML="Downloading images... ("+Math.round(s)+"%)"})),e.innerHTML="Processing...";var i=await c(t.querySelector(".anim"),{backgroundColor:null,logging:!1}),a=document.createElement("a");a.style.display="none",a.download="replurk"+this.year+"-"+Date.now()+".png",a.href=i.toDataURL(),document.body.appendChild(a),a.click(),document.body.removeChild(a),a.remove(),e.innerHTML="Done",document.body.style.cursor="default",setTimeout((()=>{e.innerHTML="Recapture",e.generating=!1}),3e3)}})},wrapper:function(t,e,s){return s?'<div class="statistics middle statistics-wrap '+t+'"><div class="anim" style="background-images:url('+s+')">'+e+'</div><div class="capture"><small>Capture</small></div></div>':'<div class="statistics middle statistics-wrap '+t+'"><div class="anim">'+e+'</div><div class="capture"><small>Capture</small></div></div>'},draw:function(t,e,s,i){("string"==typeof e||"number"==typeof e&&e>0)&&this.el.insertAdjacentHTML("beforeend",this.wrapper(t,'\t\t\t\t\t<p>\t\t\t\t\t\t<span class="big">'+e+'</span>\t\t\t\t\t\t<span class="text">'+s+"</span>\t\t\t\t\t</p>\t\t\t\t"),i)},drawDiv:function(t,e){this.el.insertAdjacentHTML("beforeend",this.wrapper(t,'<div class="box">'+e+"</div>"))},drawGraph:function(t,e,s){("string"==typeof e||"number"==typeof e&&e>0)&&this.el.insertAdjacentHTML("beforeend",this.wrapper(t+" drawgraph movetitle",'\t\t\t\t\t<p>\t\t\t\t\t\t<span class="graph"><i data-number="'+e+'"></i></span>\t\t\t\t\t\t<span class="info">'+s+"</span>\t\t\t\t\t</p>\t\t\t\t"))},drawImage:function(t,e,s,i,a,r){this.el.insertAdjacentHTML("beforeend",this.wrapper(t+" drawimage",'\t\t\t\t<a href="'+s+'" target="_BLANK">\t\t\t\t\t<span class="big">'+r+'</span>\t\t\t\t\t<span class="avatar"><img src="'+e+'" /></span>\t\t\t\t\t<span class="text">'+a+'</span>\t\t\t\t\t<span class="title">'+i+"</span>\t\t\t\t</a>\t\t\t"))},drawHTML:function(t,e,s){this.el.insertAdjacentHTML("beforeend",this.wrapper(t+" drawhtml",'\t\t\t\t<div>\t\t\t\t\t<div class="htmlcontent">'+s+'</div>\t\t\t\t\t<div class="title">'+e+"</div>\t\t\t\t</div>\t\t\t"))},drawLink:function(t,e,s,i,a){this.el.insertAdjacentHTML("beforeend",this.wrapper(t+" drawlink",'\t\t\t\t<a href="'+e+'" target="_BLANK">\t\t\t\t\t<span class="big">'+a+"</span>\t\t\t\t\t<span>"+i+'</span>\t\t\t\t\t<span class="title">'+s+"</span>\t\t\t\t</a>\t\t\t"))},drawPost:function(t,e,s,i,a){var r="";e&&(r="https://plurk.com/p/"+e.toString(36)),this.el.insertAdjacentHTML("beforeend",this.wrapper(t+" drawpost",'\t\t\t\t<div>\t\t\t\t\t<a href="'+r+'" class="link" target="_BLANK">'+h+'</a>\t\t\t\t\t<span class="big">'+a+'</span>\t\t\t\t\t<p class="post">'+i+'</p>\t\t\t\t\t<span class="title">'+s+"</span>\t\t\t\t</div>\t\t\t"))},drawUserList:async function(t,e,s,i){var r="",o=i.length>=5?5:i.length,l=(0,d.DO)(1);this.drawHTML(t+" drawuserlist movetitle "+e,s,"<span class='info'>Downloading user data</span>");for(var c=0;c<o;c++){var h=i[c];if(h){var g=this.parent.friends,m=await g.find(h.id);if(m){var f=new p(h.id,m,"",(t=>{t.avatar=new u("avatar",'<img src="'+g.getAvatar(t.user.id)+'" />'),t.name=new u("name",t.user.display_name),t.counts=new u("count",h.count),t.el.appendChild(t.avatar.el),t.el.appendChild(t.name.el),t.el.appendChild(t.counts.el),t.el.setAttribute("href","https://plurk.com/"+t.user.nick_name)}));f.create(),r+=f.el.outerHTML}else o++}}this.el.querySelector("."+e+" .htmlcontent").innerHTML=r,"mostinteraction"==e||"mvp"==e?n.A.push((t=>(t.fromTo(this.el.querySelectorAll("."+e+" .plurkers"),{scale:.3,opacity:0},{scale:1,opacity:1,ease:"elastic.out(1.2, 0.5)",duration:3*l/4,stagger:{amount:l/3,from:"end"}},0),t)),(t=>a.u.create({trigger:this.el.querySelector("."+e),start:"50% 100%",end:"50% 100%",animation:t,toggleActions:"play none none reverse"}))):n.A.push((t=>(t.fromTo(this.el.querySelectorAll("."+e+" .plurkers"),{y:50,opacity:0},{y:0,opacity:1,duration:l,ease:"power3.out",stagger:l/3},0),t)),(t=>a.u.create({trigger:this.el.querySelector("."+e),start:"0% 100%",end:"0% 100%",animation:t,toggleActions:"play none none reverse"})))},attach:function(t,e,s){var a,r,n,o,l,c,h=this,u=e.id,p=0,g=s,m=0,f=!0;if(e.position<=s&&(f=!1,m=g=e.position-1,p=1),h.next.querySelector("."+u)||((a=document.createElement("div")).setAttribute("class","chart"),(r=document.createElement("div")).setAttribute("class","title"),r.innerHTML=t,(n=document.createElement("div")).setAttribute("class","text"),n.appendChild(a),n.appendChild(r),(o=document.createElement("div")).setAttribute("class","anim"),o.appendChild(n),(n=document.createElement("small")).innerHTML="Capture",(c=document.createElement("div")).setAttribute("class","capture"),c.appendChild(n),(l=document.createElement("div")).setAttribute("class","statistics middle statistics-wrap attach "+u),l.appendChild(o),l.appendChild(c),h.el.insertAdjacentElement("beforeend",l)),!f&&!e.attached){var y=s/(s-1)*100;e.insertTo(h.el.querySelector("."+u+" .chart")),i.os.set(e.el,{top:y+"%",opacity:0,zIndex:0})}if(!f||!e.hidden){var v=g/(s-1)*100,w=(0,d.DO)(1);i.os.killTweensOf(e.el),i.os.to(e.el,{top:v+"%",opacity:p,zIndex:m,duration:w/2,ease:"power3.out",onComplete:function(){f&&e.destroy()}}),e.hidden=f}e.update()},drawAll:async function(t){var e=Math.round((this.plurks_count-this.noresponse_count)/this.plurks_count*100);this.parent.most.responses.draw(t),this.drawGraph("center graph percentage",e,"Around <i>"+e+'%</i> of my plurks got <img src="https://api.iconify.design/fluent-emoji:left-speech-bubble.svg" /> responses '+(e<=50?'<img src="https://api.iconify.design/fluent-emoji:crying-face.svg" />':'<img src="https://api.iconify.design/fluent-emoji:star-struck.svg" />')),this.draw("spansmall recievereplurk",this.replurker_count,'I received <i><img src="https://api.iconify.design/fluent-emoji:megaphone.svg" /> '+(0,d.LS)(this.replurker_count,"replurk")+"</i>"),this.parent.most.replurk.draw(t),this.parent.most.favorite.draw(t),this.draw("spansmall recievelove",this.favourite_count,'I recieved <i><img src="https://api.iconify.design/fluent-emoji:red-heart.svg" /> '+(0,d.LS)(this.favourite_count,"love")+"</i>"),this.draw("spansmall privateplurk",this.private_count,'I posted <i><img src="https://api.iconify.design/fluent-emoji:lip.svg" /> '+(0,d.LS)(this.private_count,"private plurk")+"</i>"),this.draw("spansmall whisper",this.whispers_count,'I posted <i><img src="https://api.iconify.design/fluent-emoji:face-in-clouds.svg" /> '+(0,d.LS)(this.whispers_count,"whisper")+"</i>"),this.draw("spansmall porn",this.porn_count,'I posted <i><img src="https://api.iconify.design/fluent-emoji:face-with-peeking-eye.svg" /> '+(0,d.LS)(this.porn_count,"adult plurk")+"</i>"),this.draw("span2 responsecount",this.plurks_count+" &rarr; "+this.response_count,'I received <i><img src="https://api.iconify.design/fluent-emoji:left-speech-bubble.svg" /> '+(0,d.LS)(this.response_count,"response")+"</i> from <i>"+(0,d.LS)(this.plurks_count,"plurk")+"</i>"),this.draw("spansmall center coins",this.coins_count,'I recieved <i><img src="https://api.iconify.design/fluent-emoji:coin.svg" /> '+(0,d.LS)(this.coins_count,"coin")+"</i>"),this.favorite_list.length>0&&this.drawUserList("avatar","loved",'These Plurkers <i><img src="https://api.iconify.design/fluent-emoji:red-heart.svg" /> Loved</i> My Posts',this.favorite_list.sort(this.parent.most.sort)),this.replurker_list.length>0&&this.drawUserList("avatar","replurked",'These Plurkers likes to <i><img src="https://api.iconify.design/fluent-emoji:megaphone.svg" /> Replurked</i> My Posts',this.replurker_list.sort(this.parent.most.sort))}};most={parent:this,sort:function(t,e){return e.count-t.count},findregex:function(t,e,s,i){var a=s.match(t);for(var r in a){var n=e(a[r]),o=i.findIndex((t=>t.value==n));o<0?i.push({id:n,value:n,count:1}):i[o].count++}return a},init:function(){this.responders.data=[],this.mentions.data=[],this.mentions.dataAll=[],this.myemoticons.data=[],this.hashtags.data=[],this.links.links=[],this.links.pics=[],this.types.words=0,this.types.chars=0},countAll:async function(t){t.user_id==this.parent.me.id&&this.myemoticons.count(t.content),await this.mentions.count(t.content_raw),t.user_id==this.parent.me.id&&this.hashtags.count(t.content),t.user_id==this.parent.me.id&&this.links.count(t.content,t.plurk_id,t.response_count,t.replurkers_count,t.favorite_count),t.user_id==this.parent.me.id&&this.types.count(t.content_raw)},responders:{data:[],parent:this,count:async function(t){if((i=this.data.findIndex((function(e){return e.user_id==t.user_id})))<0){var e=this.parent.friends,s=await e.find(t.user_id);this.data.push(new p("mostresponders",s,e.getAvatar(s.id)))}else this.data[i].count++;this.data.sort(this.parent.most.sort);for(var i=1,a=0;a<this.data.length;a++)this.data[a].position=this.data.length,this.data[a].user_id!=this.parent.me.id&&99999!=this.data[a].user_id&&(this.data[a].position=i++,this.parent.statistics.attach('<i>Top <img src="https://api.iconify.design/fluent-emoji:left-speech-bubble.svg" /> Responders</i> <strong>of My Timeline</strong>',this.data[a],5))},draw:function(){var t=0;if(this.data.length>0){for(;(this.data[t].user_id==this.parent.me.id||99999==this.data[t].user_id)&&t<this.data.length;)t++;this.data[t]&&this.parent.statistics.drawImage("avatar",this.parent.friends.getAvatar(this.data[t].user_id),"https://plurk.com/"+this.data[t].user.nick_name,"<i>Most Responder</i>",this.data[t].user.display_name,this.data[t].count)}}},mentions:{data:[],dataAll:[],parent:this,count:async function(t){var e=1;if(this.parent.most.findregex(/\@(\w{1,30})[\ |\:]/g,(t=>t.replace(/\@|\ |\:/g,"")),t,this.data)){this.data.sort(this.parent.most.sort);for(var s=0;s<this.data.length;s++){if(this.data[s].position=this.data.length,e<=5){var i=await this.parent.friends.findByUsername(this.data[s].value);null==this.data[s].el&&(this.data[s]=new p("mostmentionedbyme",i,"",(t=>{t.avatar=new u("avatar",'<img src="'+this.parent.friends.getAvatar(t.user_id)+'" />'),t.name=new u("name","@"+t.nick_name),t.counts=new u("count",t.count),t.el.appendChild(t.avatar.el),t.el.appendChild(t.name.el),t.el.appendChild(t.counts.el),t.el.setAttribute("href","https://plurk.com/"+t.nick_name)}))),i.id!=this.parent.me.id&&99999!=i.id&&(this.data[s].position=e++,this.parent.statistics.attach('<i>Most <img src="https://api.iconify.design/fluent-emoji:person-raising-hand-light.svg" /> Mentioned</i> <strong>in My Timeline</strong>',this.data[s],5))}this.data[s].el&&this.parent.statistics.attach('<i>Most <img src="https://api.iconify.design/fluent-emoji:person-raising-hand-light.svg" /> Mentioned</i> <strong>in My Timeline</strong>',this.data[s],5)}}},draw:function(){var t=0;if(this.data.length>0){for(;(this.data[t].user_id==this.parent.me.id||99999==this.data[t].user_id)&&t<this.data.length;)t++;this.data[t]&&this.parent.statistics.drawImage("avatar",this.parent.friends.getAvatarByUsername(this.data[t].value),"https://plurk.com/"+this.data[t].value,"<i>Most Mentioned</i> by me","@"+this.data[t].value,this.data[t].count)}}},myemoticons:{data:[],parent:this,count:function(t){this.parent.most.findregex(/emoticon_my\" src=\"(.*?)\"/g,(function(t){return t.replace(/emoticon_my\" src=\"|\"/gi,"")}),t,this.data)},draw:function(){var t="";this.data.sort(this.parent.most.sort);for(var e=0;e<(this.data.length<7?this.data.length:7)&&this.data[e];e++)this.data[e].count>1&&(t+='<div><img src="'+this.data[e].value+'" /> <span class="count">'+this.data[e].count+"</span></div>");""!=t&&this.parent.statistics.drawHTML("smallspan grid emoticons","Most Used <i>My Emoticons</i>",t)}},hashtags:{data:[],parent:this,count:function(t){this.parent.most.findregex(/hashtag\"\>(.*?)\</g,(function(t){return t.replace(/hashtag\"\>\#|\.\<|\</g,"")}),t,this.data)},draw:function(){var t="";this.data.sort(this.parent.most.sort);for(var e=0;e<(this.data.length<5?this.data.length:5)&&this.data[e];e++)this.data[e].count>1&&(t+='<div><a href="https://plurk.com/search?q='+this.data[e].value+'" target="_BLANK" /><span class="count">'+this.data[e].count+"</span> #"+this.data[e].value+"</a></div>");""!=t&&(t="<strong>#</strong>"+t,this.parent.statistics.drawHTML("hashtags","Most Used <i>Hashtags</i>",t))}},links:{data:[],links:[],pics:[],parent:this,count:function(t,e,s,i,a){var r=t.match(/href\=\"(.*?)\"\ class=\"(.*?)\"\ rel/g),n=0,o=[],l=[];if(r)for(var c of r)if(this.data[e]||(n=s+250*i+50*a),c.includes("pictureservices")){if(this.pics.push(c),n>0){var d=c.split('"');o.push({url:d[1],response:s,replurk:i,loved:a})}}else if(this.links.push(c),n>0){var h=c.split('"');l.push({url:h[1],response:s,replurk:i,loved:a})}n&&this.data.push({id:e,pics:o,links:l,count:n,content:t})},drawLinks:function(){var t=1,e=0,s="";for(this.data.sort(this.parent.most.sort);e<this.data.length&&t>0;){if(this.data[e].links.length>0){var i=this.data[e].links[0],a='<a href="https://plurk.com/p/'+this.data[e].id.toString(36)+'" class="link" target="_BLANK">'+h+"</a>";s+='<div class="post"><div class="info">'+this.data[e].content+'</div><div class="meta"><span class="response"><img src="https://api.iconify.design/fluent-emoji:left-speech-bubble.svg" /> '+i.response+'</span><span class="replurk"><img src="https://api.iconify.design/fluent-emoji:megaphone.svg" /> '+i.replurk+'</span><span class="loved"><img src="https://api.iconify.design/fluent-emoji:red-heart.svg" /> '+i.loved+"</span>"+a+"</div></div>",t--}e++}this.links.length>0&&this.parent.statistics.drawDiv("spansmall sharedlinks","<div class='title'>I shared <i>🔗 "+(0,d.LS)(this.links.length,"link")+"</i> and this is the most popular one</div>"+s)},drawPics:function(){var t=1,e=0,s="";for(this.data.sort(this.parent.most.sort);e<this.data.length&&t>0;){if(this.data[e].pics.length>0){var i=this.data[e].pics[0],a='<a href="https://plurk.com/p/'+this.data[e].toString(36)+'" class="link" target="_BLANK">'+h+"</a>";s+='<div class="box"><div class="image" style="background-image: url('+r.A.url+"?img="+i.url+')"></div><div class="post">'+this.data[e].content+'<div class="meta"><span class="response"><img src="https://api.iconify.design/fluent-emoji:left-speech-bubble.svg" /> '+i.response+'</span><span class="replurk"><img src="https://api.iconify.design/fluent-emoji:megaphone.svg" /> '+i.replurk+'</span><span class="loved"><img src="https://api.iconify.design/fluent-emoji:red-heart.svg" /> '+i.loved+"</span>"+a+"</div></div></div>",t--}e++}this.pics.length>0&&this.parent.statistics.draw("spansmall sharedpictures",this.pics.length,"I shared <i>🖼 "+(0,d.LS)(this.pics.length,"image")+"</i>"),""!=s&&this.parent.statistics.drawHTML("span2 previewpics","<i>🖼 Most Popular Image</i>",s)}},types:{words:0,chars:0,parent:this,count:function(t){var e=t.split(" ");this.chars+=t.length,this.words+=e.length},draw:function(){this.chars>0&&this.parent.statistics.draw("span2 mediumnumber",this.chars,"I typed more than  <i>"+(0,d.zT)(this.chars,"character")+"</i>, around <i>"+(0,d.zT)(this.words,"word")+"</i> this year")}},responses:{parent:this,sort:function(t,e){return e.response_count-t.response_count},draw:function(t){for(var e in t.sort(this.sort),t){var s=t[e];if(s.owner_id==this.parent.me.id&&3!=s.plurk_type&&s.response_count>0)return void this.parent.statistics.drawPost("postcontent span2 mostresponded",s.plurk_id,'<i><img src="https://api.iconify.design/fluent-emoji:left-speech-bubble.svg" /> Most Responded</i> '+(0,d._1)(s.posted),s.content,s.response_count)}}},replurk:{parent:this,sort:function(t,e){return e.replurkers_count-t.replurkers_count},draw:function(t){for(var e in t.sort(this.sort),t){var s=t[e];if(s.owner_id==this.parent.me.id&&3!=s.plurk_type&&s.replurkers_count>0)return void this.parent.statistics.drawPost("postcontent span2 mostreplurked",s.plurk_id,'<i><img src="https://api.iconify.design/fluent-emoji:megaphone.svg" /> Most Replurked</i> '+(0,d._1)(s.posted),s.content,s.replurkers_count)}}},favorite:{parent:this,sort:function(t,e){return e.favorite_count-t.favorite_count},draw:function(t){for(var e in t.sort(this.sort),t){var s=t[e];if(s.owner_id==this.parent.me.id&&3!=s.plurk_type&&s.favorite_count>0)return void this.parent.statistics.drawPost("postcontent span2 mostfavorited",s.plurk_id,'<i><img src="https://api.iconify.design/fluent-emoji:red-heart.svg" /> Most Loved</i> '+(0,d._1)(s.posted),s.content,s.favorite_count)}}},interaction:{data:[],parent:this,count:function(t){var e=this.data.findIndex((function(e){return e.id==t.user_id}));e<0?this.data.push({id:t.user_id,count:1,multiplier:1,plurk_id:t.plurk_id}):(this.data[e].plurk_id==t.plurk_id?this.data[e].multiplier++:this.data[e].multiplier=1,this.data[e].count+=this.data[e].multiplier*t.content_raw.length),this.data.sort(this.parent.most.sort)},draw:function(){for(var t=[],e=0,s=0;this.data[s]&&e<=5;)this.data[s].id!=this.parent.me.id&&(t.push(this.data[s]),e++),s++;try{t.length>0&&this.parent.statistics.drawUserList("bubble span2","mostinteraction","Plurkers who really like to <i><img src='https://api.iconify.design/fluent-emoji:speaking-head.svg' /> interact</i> with me",t)}catch{console.info("Error while counting most interacted plurker")}}},mvp:{data:[],parent:this,count:function(t,e){var s=this.data.findIndex((function(e){return e.id==t.user_id}));s<0?this.data.push({id:t.user_id,count:1,multiplier:1,plurk_id:t.plurk_id}):"replurk"==e?this.data[s].count+=250*t.count:"favorite"==e?this.data[s].count+=50*t.count:t.content_raw.length>16&&(this.data[s].plurk_id==t.plurk_id?this.data[s].multiplier+=.5:this.data[s].multiplier=.5,this.data[s].count+=this.data[s].multiplier*t.content_raw.length),this.data.sort(this.parent.most.sort)},draw:function(){for(var t=[],e=0,s=0;this.data[s]&&e<=5;)this.data[s].id!=this.parent.me.id&&(t.push(this.data[s]),e++),s++;try{t.length>0&&this.parent.statistics.drawUserList("bubble span3","mvp","My "+this.parent.year+" <i><img src='https://api.iconify.design/fluent-emoji:biting-lip.svg' /> MVP</i>",t)}catch(t){console.info("Error while counting my mvp",t)}}}};inactive={draw:(t,e)=>{this.statistics.draw("inactive",e+" &#8617;","I've been inactive since "+e+' <img src="https://s.plurk.com/emoticons/platinum/318416eab5a856bddb1e106a21ff557a.gif" />'),this.statistics.drawPost("postcontent span2 inactivemore",t.plurk_id,"<i>My last Plurk</i> "+(0,d._1)(t.posted),t.content,t.response_count)},empty:()=>{this.statistics.draw("inactive","-",'I didn\'t post anything at this year <img src="https://s.plurk.com/emoticons/platinum/318416eab5a856bddb1e106a21ff557a.gif" />')}};loading={count:0,prev_count:0,counts:-1,clean:!1,next:document.createElement("div"),parent:this,isComplete:function(){return this.count==this.counts},init:function(t){this.count=0,this.prev_count=0,this.counts=-1,this.clean=!1,this.next=t},draw:function(t){return new Promise((e=>{var s=(0,d.DO)(1);this.prev_count=t,this.next.querySelector(".statistics.statistics-loading")||this.parent.statistics.draw("statistics-loading",t+"%","<i class='month'>Data from "+this.year+"</i>. Loading. <small>As long as you didn't close this browser tab, You can resume later by refreshing this page.</small>");var a={progress:this.prev_count};i.os.to(a,{progress:Math.round(t),snap:"progress",ease:"linear",duration:s/4,onUpdate:()=>{var t=this.next.querySelector(".statistics-loading .big");t&&(t.innerHTML=a.progress+"%")},onComplete:async()=>{this.clean&&await this.done(),e()}})}))},loop:async function(t){this.clean=!0,this.counts=t,await this.draw(0)},update:async function(t,e){var s=this.next.querySelector(".statistics-loading .month");t&&s&&(s.innerHTML=t),this.counts>=0&&(this.count=e||this.count+1,await this.draw(Math.round(this.count/this.counts*100)))},fakeupdate:async function(){this.counts>=0&&(this.count++,this.count>=this.counts-10&&(this.count=this.counts-10),await this.draw(this.count/this.counts*100))},forcedone:async function(){this.count=this.counts,await this.draw(100)},done:function(){return new Promise((t=>{var e=(0,d.DO)(1);if(this.isComplete()){var s=this.next.querySelector(".statistics.statistics-loading");this.clean=!1,s&&i.os.to(s,{opacity:0,width:0,height:0,padding:0,margin:0,overflow:"hidden",duration:e/2,ease:"power3.out",onComplete:()=>{s.remove(),n.A.refresh(),t()}})}else t()}))}};scrollAnimate={credits:t=>{var e=this.next,s=(0,d.DO)(1);return t.fromTo(e.querySelectorAll("#credits .like, #credits .noaffiliation, #credits .made"),{y:1*window.innerHeight/8},{y:0,ease:"linear",duration:2*s},0),t.fromTo(e.querySelectorAll("#credits .like, #credits .noaffiliation"),{opacity:0},{opacity:1,stagger:{from:"end",amount:s/10},duration:s,ease:"power3.in"},0),t.fromTo(e.querySelectorAll("#credits .made"),{opacity:0},{opacity:1,duration:s,ease:"power3.in"},3*s/10),t},statistics:()=>{var t=this.next;n.A.push((t=>this.scrollAnimate.credits(t)),(e=>a.u.create({trigger:t.querySelectorAll("#statistics"),start:"100%-="+window.innerHeight+" 0",end:"100% 0",animation:e,scrub:.5})))},permisions:()=>{var t=this.next;n.A.push((e=>(e.fromTo(t.querySelectorAll("#permission form"),{y:0},{y:-3*window.innerHeight/4,ease:"linear"},0),e.fromTo(t.querySelectorAll("#permission .bgtext sup"),{y:0,x:0,rotation:0},{y:-1*window.innerHeight/4,x:-1*window.innerHeight/10,rotation:-10,ease:"linear"},0),e.fromTo(t.querySelectorAll("#permission .bgtext sub"),{y:0,x:0,rotation:0},{y:-1*window.innerHeight/4,x:1*window.innerHeight/10,rotation:10,ease:"linear"},0),e)),(e=>a.u.create({trigger:t.querySelectorAll("#permission"),start:"0 0",end:"100% 0",animation:e,scrub:.5}))),n.A.push((t=>this.scrollAnimate.credits(t)),(e=>a.u.create({trigger:t.querySelectorAll("#permission"),start:"0 0",end:"100% 0",animation:e,scrub:.5})))},menu:()=>{n.A.push((t=>t),(t=>a.u.create({trigger:"main",start:"0 0",end:"100% 0",animation:t,onUpdate:t=>{var e=".logo, .size, .lamp, .switch",s=e+", .footer > *";t.direction>0?(i.os.killTweensOf((0,d.ob)(s)),i.os.to((0,d.ob)(e),{y:-100,opacity:0}),i.os.to((0,d.ob)(".footer > *"),{y:100,opacity:0})):i.os.to((0,d.ob)(s),{y:0,opacity:1})}})))},browserBar:(t=!0)=>{t?(n.A.push((t=>t),(t=>a.u.create({trigger:"#hello",start:"0 0",end:"100% 10px",animation:t,scrub:!0,onLeave:()=>{this.browserColor("white")},onEnterBack:()=>{this.browserColor("green")}}))),n.A.push((t=>t),(t=>a.u.create({trigger:"#statistics",start:"0 0",end:"100% 10px",animation:t,scrub:!0,onLeave:()=>{this.browserColor("yellow")},onEnter:()=>{this.browserColor("white")},onEnterBack:()=>{this.browserColor("white")}})))):n.A.push((t=>t),(t=>a.u.create({trigger:"#permission",start:"0 0",end:"100% 10px",animation:t,scrub:!0,onLeave:()=>{this.browserColor("yellow")},onEnterBack:()=>{this.browserColor("green")}})))}};constructor(t){this.year=t,this.startDate=this.year+"-10-29T09:00:00",this.endDate=new Date(this.year-1+"-10-29T09:00:00"),this.days=864e5,this.fulldays=365}getSetStateColor(t){return"object"==typeof t&&t.length>=1?1==t.length?(o.A.browserColorDark=t[0],o.A.browserColorLight=t[0]):(o.A.browserColorDark=t[1],o.A.browserColorLight=t[0]):"green"==t?(o.A.browserColorDark="#0d4f03",o.A.browserColorLight="#60e670"):"yellow"==t?(o.A.browserColorDark="#705f02",o.A.browserColorLight="#FFD700"):(o.A.browserColorDark="#000000",o.A.browserColorLight="#FFFFFF"),[o.A.browserColorLight,o.A.browserColorDark]}browserColor(t,e,s){this.getSetStateColor(t),o.A.setDarkMode(e,s)}showLoginPage(t){var e=this.next,s=(0,d.DO)(1);return this.browserColor("green",1),t.fromTo(e.querySelectorAll("#permission"),{position:"fixed",display:"",opacity:0,top:0},{opacity:1,duration:s,ease:"power3.in"}),t.fromTo(e.querySelectorAll("#permission .bgtext *"),{display:"",y:200,opacity:0},{y:0,opacity:1,stagger:s/5,duration:s,ease:"power3.out",onComplete:()=>{i.os.set(e.querySelectorAll("#permission"),{position:"",top:""})}},">-"+s/2),t}hideLoginPage(t){var e=this.next,s=(0,d.DO)(1);return t.set(e.querySelectorAll("#permission"),{position:"fixed",top:0}),t.fromTo(e.querySelectorAll("#permission .bgtext *, #permission form"),{y:0,opacity:1},{y:200,opacity:0,stagger:{from:"end",amount:s/5},duration:s,ease:"power3.in",onComplete:()=>{this.browserColor("yellow")}}),t.fromTo(e.querySelectorAll("#permission"),{opacity:1},{opacity:0,duration:s,ease:"power3.in",onComplete:()=>{i.os.set(e.querySelectorAll("#permission"),{position:"",display:"none",top:""},">")}},">-"+s/4),t}showStatisticPages(){return new Promise((t=>{var e=this.next,s=(0,d.DO)(1),a=i.os.timeline();a.fromTo(e.querySelectorAll("#hello"),{display:"",opacity:0},{opacity:1,ease:"power3.in",duration:s,onStart:()=>this.browserColor("green",.5)},s/4),a.fromTo(e.querySelectorAll("#hello .bgtext > *"),{display:"",opacity:0,y:200},{opacity:1,y:0,duration:s,stagger:s/5,ease:"power3.out"},s/2),a.fromTo(e.querySelectorAll(" #hello .thumbs, #hello .text > *, #hello .arrow-big"),{display:"",opacity:0,y:200},{opacity:1,y:0,duration:s,stagger:s/5,ease:"power3.out"},s/2),a.fromTo(e.querySelectorAll(".grant:not(#hello), .statistics"),{display:"",opacity:0},{opacity:1,duration:s/2,onComplete:()=>t()},s/2)}))}hideStatisticPages(){return new Promise((async t=>{var e=this.next,s=(0,d.DO)(1),a=i.os.timeline();await l.A.top(e),a.fromTo(e.querySelectorAll(".footer > *, #hello .bgtext > *, #hello .thumbs, #hello .text > *, #hello .arrow-big"),{opacity:1,y:0},{opacity:0,y:200,duration:s,stagger:{from:"end",amount:s/5},ease:"power3.in"},s/5),a.set(e.querySelectorAll(".grant:not(#hello), .statistics"),{opacity:0},s/2),a.fromTo(e.querySelectorAll("#hello"),{opacity:1},{opacity:0,duration:s,ease:"power3.in",onComplete:()=>{i.os.set(e.querySelectorAll(".grant"),{display:"none"}),t()}},s/2)}))}message(t,e){var s=this.next.querySelector("#login-message");e?s.innerHTML=t:i.os.to(s,{opacity:0,onComplete:function(){s.innerHTML=t,i.os.to(s,{opacity:1})}})}async requestLogout(){var t=i.os.timeline();r.A.abort(),await this.hideStatisticPages(t),await r.A.call("?fetch=logout"),this.statistics.clear(),r.A.clear(),this.login(),n.A.refresh()}async requestToken(t){var e=this.next,s=(0,d.DO)(1),a=e.querySelector("#tokenurl");a.textContent="Connecting Plurk...";var n=i.os.timeline();n.fromTo(e.querySelectorAll("#permission form"),{display:"",y:200,opacity:0},{y:0,opacity:1,duration:s,ease:"power3.out"},s),n.fromTo(e.querySelectorAll("#permission h1, #permission li"),{display:"",y:50,opacity:0},{y:0,opacity:1,stagger:s/10,duration:s,ease:"power3.out"},s),r.A.call("?request=token").then((e=>{t?message(t):(a.textContent="Grant Access",a.setAttribute("href",r.A.url+"?redirect="+e.message.url))}),(()=>{message("Error when requesting verification from Plurk, please reload your browser again.")})),t||(e.querySelector("#permission form").style.display="none")}async displayPlurkerData(){var t=this.me,e=this.next,s="",i=(0,d.DO)(1),r=365*t.anniversary.years+t.anniversary.days,o=Math.round(t.response_count/r);if(e.querySelector("#hello .thumbs").innerHTML="<img src='"+t.avatar_big+"' />",2021==this.year?e.querySelector("#hello .text").innerHTML="<h1>Hello "+t.display_name+"</h1><p style='max-width: 500px; margin: 0 auto'>If "+this.year+" have been a rough year you, hopefully RePlurk will cheer you by bringing some good memories</p>":2022==this.year?e.querySelector("#hello .text").innerHTML="<h1>Hello "+t.display_name+"</h1><p style='max-width: 500px; margin: 0 auto'>It's 2020 v2, and this is your year end RePlurk recap. Hopefully it will bring lots of good memories.</p>":e.querySelector("#hello .text").innerHTML="<h1>Hello "+t.display_name+"</h1><p style='max-width: 500px; margin: 0 auto'>This is your year end RePlurk recap. Hopefully it will bring lots of good memories.</p>",this.statistics.title("All Time","alltime"),t.anniversary.years&&t.anniversary.days){this.statistics.draw("spansmall center posted",Math.round(t.plurks_count/r),'I posted around <i><img src="https://api.iconify.design/fluent-emoji:left-speech-bubble.svg" /> '+(0,d.LS)(Math.round(t.plurks_count/r),"plurk")+" per day</i>"),s=o<=16?"That's almost 1 response every <i>"+(0,d.LS)(Math.round(16/o),"hour")+"</i>":"That's almost 1 response every <i>"+(0,d.LS)(Math.round(960/o),"minute")+"</i>",this.statistics.draw("span2 center responded",o,'I responded around <i><img src="https://api.iconify.design/fluent-emoji:left-speech-bubble.svg" /> '+(0,d.LS)(o,"time")+"</i> per day. "+s+" when I'm not asleep");var l=new Date(t.join_date);this.statistics.draw("spansmall center anniversary","<strong><i>"+d.dF[l.getMonth()]+"</i> <i>"+l.getFullYear()+"</i></strong> <em>"+l.getDate()+"</em>","I joined Plurk <i>"+(0,d.LS)(t.anniversary.years,"year")+"</i> and <i>"+(0,d.LS)(t.anniversary.days,"day")+"</i> ago"),this.statistics.draw("spansmall center badges",t.badges.length,"I have <i><img src='https://api.iconify.design/fluent-emoji:shield.svg' /> "+(0,d.LS)(t.badges.length,"badge")+"</i> right now")}else this.statistics.draw("","-","There is no data in my timeline"),this.statistics.draw("",t.badges.length,"But at least I have <i>"+(0,d.LS)(t.badges.length,"badge")+"</i> right now");n.A.push((t=>(t.fromTo(e.querySelectorAll("#hello .text, #hello .thumbs"),{y:0},{y:-3*window.innerHeight/4,ease:"linear",duration:i},0),t.fromTo(e.querySelectorAll("#hello .bgtext sup"),{y:0,x:0,rotation:0},{y:-1*window.innerHeight/4,x:-1*window.innerHeight/10,rotation:-10,ease:"linear",duration:i},0),t.fromTo(e.querySelectorAll("#hello .bgtext sub"),{y:0,x:0,rotation:0},{y:-1*window.innerHeight/4,x:1*window.innerHeight/10,rotation:10,ease:"linear",duration:i},0),t.fromTo(e.querySelectorAll("#hello .arrow-big"),{y:0,opacity:1},{y:1*window.innerHeight/4,opacity:0,ease:"linear",duration:i/4},0),t)),(t=>a.u.create({trigger:e.querySelectorAll("#hello"),start:"0 0",end:"100% 0",animation:t,scrub:!0}))),n.A.refresh()}async displayStatistics(){this.statistics.title("This Year","thisyear"),this.statistics.draw("statistics-loading thisyearloading","","<i class='month'>Data from December</i>1 of 2. Loading "+this.year+" timeline. It can take up to 1 minute."),this.loading.init(this.next),this.loading.loop(this.fulldays);var t=async e=>{e=e?"&offset="+e:"";var s=await r.A.call("?fetch=plurk&filter=my"+e,1);if(s.success)if(this.friends.add(s.message.plurk_users),this.plurks=this.plurks.concat(s.message.plurks),s.message.plurks.length>0){var i=new Date(this.plurks[this.plurks.length-1].posted);if(i>=this.endDate)this.loading.update("Data from "+d.dF[i.getMonth()]+" "+i.getFullYear(),this.fulldays-Math.floor((i-this.endDate)/this.days)),await t(s.message.offset);else{for(;i<this.endDate&&this.plurks.length>1;)this.plurks.pop(),i=new Date(this.plurks[this.plurks.length-1].posted);await this.loading.forcedone()}}else await this.loading.forcedone();else this.requestLogout()};await t(this.startDate);var e=0;if(this.plurks.length>1){this.statistics.plurks_count=0,this.plurks.forEach((t=>{if(t.responded&&this.statistics.responded_count++,t.owner_id==this.me.id){if(this.statistics.plurks_count++,this.statistics.replurker_count+=t.replurkers.length,this.statistics.replurker_list=this.statistics.listCount(this.statistics.replurker_list,t.replurkers),this.statistics.favourite_count+=t.favorers.length,this.statistics.favorite_list=this.statistics.listCount(this.statistics.favorite_list,t.favorers),t.anonymous&&this.statistics.whispers_count++,t.coins&&(this.statistics.coins_count+=t.coins),t.porn&&this.statistics.porn_count++,t.response_count||this.statistics.noresponse_count++,3==t.plurk_type&&this.statistics.private_count++,this.statistics.response_count+=t.response_count,t.content_raw.includes("instagram.com")&&this.statistics.instagrammer_count++,(t.content_raw.includes("facebook.com")||t.content_raw.includes("fb.watch"))&&this.statistics.facebooker_count++,t.content_raw.includes("twitter.com")&&this.statistics.twitterer_count++,t.content_raw.includes("reddit.com")&&this.statistics.redditor_count++,t.content_raw.includes("tiktok.com")&&this.statistics.tiktoker_count++,t.content_raw.includes("imgur.com")&&this.statistics.imgurer_count++,t.content_raw.includes("youtube.com")&&this.statistics.youtuber_count++,t.with_poll){var s=t.poll.response.response_count;this.statistics.poll_count++,this.statistics.poll_responder_count+=s,e<s&&(e=s,this.statistics.poll_popular_plurk=t)}}else t.responded&&this.statistics.responded_other_count++})),this.plurks.sort(((t,e)=>new Date(e.posted)-new Date(t.posted)));try{await this.statistics.drawAll(this.plurks)}catch(t){console.info("Error while counting statistics",t)}this.displayExtendedStatistics()}else if(this.plurks[0]){var s=new Date(plurk[0].posted);inactive.draw(plurk[0],s.getFullYear())}else inactive.empty()}async displayExtendedStatistics(){for(var t of(this.statistics.title("Dig Deeper","digdeeper"),this.statistics.draw("statistics-loading digdeeperloading","","<i class='month'>Data from "+this.year+"</i> 2 of 2. Loading all responses. <small>If the loading seems to stop, refresh your browser tab to resume your download. Closing your browser tab will clear all downloaded data.</small>"),this.loading.init(this.next),this.loading.loop(this.plurks.length),this.plurks.sort(((t,e)=>new Date(t.posted)<new Date(e.posted))),this.plurks)){var e=new Date(t.posted);if(this.loading.update("Data from "+d.dF[e.getMonth()]+" "+e.getFullYear()),await this.most.countAll(t),t.response_count>0&&(t.responded||t.owner_id==this.me.id)){var s=await r.A.call("?fetch=response&plurk_ids="+t.plurk_id);if(!s.success){this.requestLogout();break}for(var i of s.message)for(var a of(this.friends.add(i.friends),i.responses))await this.most.responders.count(a),this.most.interaction.count(a),this.most.mvp.count(a,"response"),await this.most.countAll(a)}}this.most.links.drawLinks(),this.most.links.drawPics(),this.most.interaction.draw(),this.most.types.draw(),this.most.hashtags.draw(),this.most.myemoticons.draw(),this.statistics.replurker_list.forEach((t=>{this.most.mvp.count({user_id:t.id,count:t.count},"replurk")})),this.statistics.favorite_list.forEach((t=>{this.most.mvp.count({user_id:t.id,count:t.count},"favorite")})),this.most.mvp.draw();var n="<img src='https://api.iconify.design/fluent-emoji:crown.svg' /> Leader";1==this.me.gender&&(n="<img src='https://api.iconify.design/fluent-emoji:crown.svg' /> King"),0==this.me.gender&&(n="<img src='https://api.iconify.design/fluent-emoji:crown.svg' /> Queen");var o="<img src='https://api.iconify.design/fluent-emoji:mirror-ball.svg' />";1==this.me.gender&&(o="<img src='https://api.iconify.design/fluent-emoji:man-dancing-medium-dark-skin-tone.svg' />"),0==this.me.gender&&(o="<img src='https://api.iconify.design/fluent-emoji:woman-dancing-medium-dark-skin-tone.svg' />");var l="<img src='https://api.iconify.design/fluent-emoji:older-person.svg' />";1==this.me.gender&&(l="<img src='https://api.iconify.design/fluent-emoji:old-man.svg' />"),0==this.me.gender&&(l="<img src='https://api.iconify.design/fluent-emoji:old-woman.svg' />");var c="<img src='https://api.iconify.design/fluent-emoji:person-bowing.svg' />";1==this.me.gender&&(c="<img src='https://api.iconify.design/fluent-emoji:man-bowing.svg' />"),0==this.me.gender&&(c="<img src='https://api.iconify.design/fluent-emoji:woman-bowing.svg' />"),this.statistics.title("RePlurk Badges","replurkbadges"),this.statistics.title("What are RePlurk Badges consist of? They are badges based on your activities in Plurk. Currently there are 16 badges in total, for activities such as: creating lots of polls (Polling "+n+"), receiving lots of coins (Plurk Coins Billionaire), writing lots of posts (Novelist and Keyboard Warrior), sharing lots of pictures and links (Meme Lord & Missing Link), sharing social medias urls (there are 7 badges), posting lots of adult posts (Adult-er), getting lots of replurks (Trendsetter), and constantly posting in Plurk almost everyday (Active Plurker).","replurkbadges description"),this.statistics.poll_count>=5&&this.statistics.draw("spansmall center badges pollbadges","<img src='https://api.iconify.design/fluent-emoji:ballot-box-with-ballot.svg' />","<strong>Polling "+n+"</strong>"),this.statistics.coins_count>=5&&this.statistics.draw("spansmall center badges coinbadges","<img src='https://api.iconify.design/fluent-emoji:coin.svg' />","<strong>Plurk Coins Billionaire</strong>"),this.most.types.words>=5e4&&this.statistics.draw("spansmall center badges novelistbadges","<img src='https://api.iconify.design/fluent-emoji:orange-book.svg' />","<strong>Novelist</strong>"),this.most.types.chars>=1e6&&this.statistics.draw("spansmall center badges keyboardbadges","<img src='https://api.iconify.design/fluent-emoji:keyboard.svg' />","<strong>Keyboard Warrior</strong>"),this.most.links.pics.length>=356&&this.statistics.draw("spansmall center badges memebadges","<img src='https://api.iconify.design/fluent-emoji:cat.svg' />","<strong>Meme Lord</strong>"),this.most.links.links.length>=178&&this.statistics.draw("spansmall center badges missingbadges","<img src='https://api.iconify.design/fluent-emoji:orangutan.svg' />","<strong>The Missing Link</strong>"),this.statistics.instagrammer_count>=10&&this.statistics.draw("spansmall center badges socmedbadges","<img src='https://api.iconify.design/fluent-emoji:camera.svg' />","<strong>Instagrammer</strong>"),this.statistics.facebooker_count>=10&&this.statistics.draw("spansmall center badges socmedbadges",l,"<strong>Facebooker</strong>"),this.statistics.twitterer_count>=10&&this.statistics.draw("spansmall center badges socmedbadges","<img src='https://api.iconify.design/fluent-emoji:hatching-chick.svg' />","<strong>The Real Chief Twit</strong>"),this.statistics.redditor_count>=10&&this.statistics.draw("spansmall center badges socmedbadges","<img src='https://api.iconify.design/fluent-emoji:robot.svg' />","<strong>/r</strong>"),this.statistics.tiktoker_count>=10&&this.statistics.draw("spansmall center badges socmedbadges",o,"<strong>Tiktoker</strong>"),this.statistics.imgurer_count>=10&&this.statistics.draw("spansmall center badges socmedbadges","<img src='https://api.iconify.design/fluent-emoji:framed-picture.svg' />","<strong>Imgur-er</strong>"),this.statistics.youtuber_count>=10&&this.statistics.draw("spansmall center badges socmedbadges","<img src='https://api.iconify.design/fluent-emoji:movie-camera.svg' />","<strong>Youtuber <img src='https://api.iconify.design/fluent-emoji:sleepy-face.svg' /></strong>"),this.statistics.porn_count>=10&&this.statistics.draw("spansmall center badges adultbadges","<img src='https://api.iconify.design/fluent-emoji:face-with-peeking-eye.svg' />","<strong>Adult-er</strong>"),this.statistics.replurker_count>=50&&this.statistics.draw("spansmall center badges plurkerbadges","<img src='https://api.iconify.design/fluent-emoji:trophy.svg' />","<strong>Trendsetter</strong>"),this.statistics.plurks_count>=534&&this.statistics.draw("spansmall center badges plurkerbadges","<img src='https://api.iconify.design/fluent-emoji:military-medal.svg' />","<strong>Active Plurker "+c+"</strong>"),this.logSessionStrorageSize()}logSessionStrorageSize(){var t=function(){var t=0;for(var e in sessionStorage)sessionStorage.hasOwnProperty(e)&&(t+=sessionStorage.getItem(e).length);return Math.round(t/1024/1024*100)/100}();console.info("SessionStorage Size: "+t+" MB")}async login(t){var e=this.next;this.me={id:0},this.friends.init(),this.statistics.init(e),this.most.init(),this.plurks=[],n.A.destroy(),window.scrollTo(0,0),this.browserColor("yellow"),this.scrollAnimate.menu();var s=i.os.timeline();s.set(e.querySelector("#hello .arrow-big"),{opacity:0});var a=await r.A.call("?"),o=null;a.success?(this.me=a.message,await this.displayPlurkerData(),this.displayStatistics(),await l.A.top(e),t?e.querySelector("#permission").style.display="none":s=this.hideLoginPage(s),await this.showStatisticPages(s),e.querySelector("#logout").onclick=()=>this.requestLogout(),this.scrollAnimate.statistics(),this.scrollAnimate.browserBar(),n.A.refresh()):(t&&e.querySelectorAll(".grant").forEach((function(t){t.style.display="none"})),this.showLoginPage(s),this.requestToken(),this.scrollAnimate.permisions(),this.scrollAnimate.browserBar(!1),n.A.refresh(),o=setInterval((async()=>{(await r.A.call("?")).success&&(clearInterval(o),this.login())}),3e3)),e.querySelectorAll("section.snap").forEach((t=>n.A.snap(t))),e.querySelectorAll("section.snap-bottom").forEach((t=>n.A.snap(t,"bottom")))}run(t){return new Promise((e=>{var s=(0,d.DO)(1);this.next=t,this.browserColor("yellow"),i.os.fromTo(this.next.querySelectorAll("#credits"),{opacity:0},{opacity:1,duration:s,ease:"power3.in",onComplete:async()=>{this.browserColor("yellow",0),await this.login(!0),e()}})}))}}}}]);
//# sourceMappingURL=620.bundle.js.map